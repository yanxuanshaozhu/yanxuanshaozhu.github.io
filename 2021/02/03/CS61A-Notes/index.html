<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="NoticeThis is a brief note about materials I find important when learning the open course UCB CS61A. I took down the notes from the 2018 fall course and the 2020 fall course. For other resources like">
<meta property="og:type" content="article">
<meta property="og:title" content="CS61A Notes">
<meta property="og:url" content="http://yoursite.com/2021/02/03/CS61A-Notes/index.html">
<meta property="og:site_name" content="My Blog">
<meta property="og:description" content="NoticeThis is a brief note about materials I find important when learning the open course UCB CS61A. I took down the notes from the 2018 fall course and the 2020 fall course. For other resources like">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-02-03T15:20:35.000Z">
<meta property="article:modified_time" content="2021-02-22T13:43:06.365Z">
<meta property="article:author" content="Yanxuanshaozhu">
<meta property="article:tag" content="CS61A">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/2021/02/03/CS61A-Notes/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>CS61A Notes | My Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">My Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">6</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">4</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">6</span></a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2021/02/03/CS61A-Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Yanxuanshaozhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CS61A Notes
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-02-03 23:20:35" itemprop="dateCreated datePublished" datetime="2021-02-03T23:20:35+08:00">2021-02-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-02-22 21:43:06" itemprop="dateModified" datetime="2021-02-22T21:43:06+08:00">2021-02-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Science/" itemprop="url" rel="index"><span itemprop="name">Computer Science</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Notice"><a href="#Notice" class="headerlink" title="Notice"></a>Notice</h1><p>This is a brief note about materials I find important when learning the open course UCB CS61A. I took down the notes from the 2018 fall course and the 2020 fall course. For other resources like lab/hw solutions, disc sessions, you can find them on my GitHub.</p>
<h1 id="Lecture-01-2018-08-22"><a href="#Lecture-01-2018-08-22" class="headerlink" title="Lecture 01 2018/08/22"></a>Lecture 01 2018/08/22</h1><p>The Zen of Python:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> this</span><br></pre></td></tr></table></figure>

<br>

<p>Different ways for reading files:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="built_in">open</span>(<span class="string">&#x27;myFile&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">words = file.read().split()</span><br><span class="line"></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&#x27;myFile&#x27;</span>, <span class="string">&#x27;br&#x27;</span>)</span><br><span class="line">words = file.read().decode().split()</span><br></pre></td></tr></table></figure>



<h1 id="Lecture-02-2018-08-24"><a href="#Lecture-02-2018-08-24" class="headerlink" title="Lecture 02 2018/08/24"></a>Lecture 02 2018/08/24</h1><p>The intrinsic name and the bound name of a function:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myfunc</span>(<span class="params">args</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">g = f</span><br><span class="line">&gt;&gt;&gt;f.__name__</span><br><span class="line"><span class="string">&#x27;f&#x27;</span></span><br><span class="line">&gt;&gt;&gt;g.__name__</span><br><span class="line"><span class="string">&#x27;f&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>

<p>Function name should always be in lowercases.</p>
<br>

<p>Don’t use tabs, use spaces.</p>
<br>

<p>help(fun_name): enter q to quit help.</p>
<br>

<p>Docstring Syntax:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myfunc</span>(<span class="params">args</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot; A one-line description of this function.</span></span><br><span class="line"><span class="string">    General behavior of this function.</span></span><br><span class="line"><span class="string">    Description of args. e.g. x -- temperature in centigrades.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; myfunc(m)</span></span><br><span class="line"><span class="string">    n</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; myfunc(n)</span></span><br><span class="line"><span class="string">    t</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>



<h1 id="Lab-00"><a href="#Lab-00" class="headerlink" title="Lab 00"></a>Lab 00</h1><p>Test labs and homework using ok in your own computer:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python ok -q question_function_name --local <span class="comment"># test for a specific question.</span></span><br><span class="line">python ok --local <span class="comment"># test for the whole Python file.</span></span><br><span class="line">python ok -q question_name -u <span class="comment"># unlock the question, if you add --local, it will fail. In this situation, I use the 2020 fall homework instead</span></span><br></pre></td></tr></table></figure>

<p>Notice: only the latest version(currently the ok for 2020 Fall class and 2021 Spring class) of ok can be working without the <code>--local</code> parameter. If you use an older version of ok python without <code>--local</code>, it will display <code>checking for software updates</code> and stuck at there.  </p>
<h1 id="HW-01"><a href="#HW-01" class="headerlink" title="HW 01"></a>HW 01</h1><p>Answer for the Quine question:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quline = <span class="string">&#x27;print(&quot;quline = &quot; + repr(quline) + &quot;;eval(quline)&quot;)&#x27;</span>;<span class="built_in">eval</span>(quline)</span><br></pre></td></tr></table></figure>

<p>The built-in <code>eval</code> function, which evaluates a string as a Python expression.</p>
<p>The built-in <code>repr</code> function, which returns an expression that evaluates to its argument.</p>
<h1 id="Lecture-03-2018-08-27"><a href="#Lecture-03-2018-08-27" class="headerlink" title="Lecture 03 2018/08/27"></a>Lecture 03 2018/08/27</h1><p>If not short-circuiting, <code>and</code> and <code>or</code> Boolean operator returns the last expression they evaluate.</p>
<br>

<p>Some examples for  including  <code>1/0(ZeroDivisionError)</code>in the Boolean expressions:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">True</span> <span class="keyword">and</span> <span class="number">1</span>/<span class="number">0</span>  <span class="comment"># No short-circuiting, so the result is ZeroDivisionError</span></span><br><span class="line"><span class="literal">True</span> <span class="keyword">or</span> <span class="number">1</span>/<span class="number">0</span>  <span class="comment"># The right expression is short-circuited, so the result is True</span></span><br><span class="line"><span class="literal">False</span> <span class="keyword">and</span> <span class="number">1</span>/<span class="number">0</span> <span class="comment"># The right expression is short-circuited, so the result is False</span></span><br><span class="line"><span class="literal">False</span> <span class="keyword">or</span> <span class="number">1</span>/<span class="number">0</span> <span class="comment"># No short-circuiting, so the result is ZeroDivisionError</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>/<span class="number">0</span> <span class="keyword">and</span>/<span class="keyword">or</span> <span class="literal">True</span>/<span class="literal">False</span>  <span class="comment"># The left expression will cause an error, so the result is ZeroDivisionError</span></span><br></pre></td></tr></table></figure>

<br>

<p> Debugging Methods:</p>
<p>1) Running doctests for codes in a file:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m doctest &lt;filename.py&gt; <span class="comment"># simply run the test in docstrings</span></span><br><span class="line">python -m doctest &lt;filename.py&gt; -v <span class="comment"># run the test in docstrings and display the result on the screen</span></span><br></pre></td></tr></table></figure>

<p>2) Running doctests for codes in the interactive session:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> doctest <span class="keyword">import</span> testmod</span><br><span class="line">testmode()   <span class="comment"># test for all tests in all docstrings in the session</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> doctest <span class="keyword">import</span> run_docstring_examples</span><br><span class="line">run_docstring_examples(function_name, <span class="built_in">globals</span>(), <span class="literal">True</span>) <span class="comment"># test for tests in the docstring of a specific function</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="Lab-01"><a href="#Lab-01" class="headerlink" title="Lab 01"></a>Lab 01</h1><p>Assertion statement should be included in a release version of your codes, but debugging print statement should not.</p>
<br>

<p>Traceback Message: <code>File &lt;file_name&gt; line &lt;line_number&gt; in &lt;function&gt;</code></p>
<p>Error Message: <code>&lt;error type&gt; : &lt;error message&gt;</code></p>
<br>

<p>Common Error Types: SyntaxError, IndentationError, TypeError, ZeroDivisionError, NameError, IndexError</p>
<br>

<p>Common Bugs: spelling, missing parentheses, missing close quotes, == v.s. =, infinite loops, off-by-one errors(boundary condition error)</p>
<h1 id="Lecture-04-2018-08-29"><a href="#Lecture-04-2018-08-29" class="headerlink" title="Lecture 04 2018/08/29"></a>Lecture 04 2018/08/29</h1><p>Notice the following tuple assignment:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">n,term</span>):</span></span><br><span class="line">    total, k = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> k &lt;= n:</span><br><span class="line">        total, k = total + term(k), k + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line">        </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Currying(so-called 柯里化 in Chinese): use high-order function to convert functions with multiple arguments into a chin of functions(in some languages like Haskell a function can have at most one argument ):</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Use g(x)(y) to represent f(x,y)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">g</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">h</span>(<span class="params">y</span>):</span></span><br><span class="line">        <span class="keyword">return</span> f(x,y)</span><br><span class="line">    <span class="keyword">return</span> h</span><br></pre></td></tr></table></figure>

<p>Lambda expression :</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># An example: the three ways return the identical result</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">f,g</span>):</span>                                                   <span class="comment"># func.__name__ : &#x27;&lt;lambda&gt;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">lambda</span> x: f(g(x)) </span><br><span class="line">f = func(<span class="keyword">lambda</span> x: x ** <span class="number">2</span>, <span class="keyword">lambda</span> y: y + <span class="number">1</span>)                      <span class="comment"># f.__name__:&#x27;&lt;lambda&gt;&#x27;</span></span><br><span class="line">f(<span class="number">12</span>) <span class="comment"># return 169</span></span><br><span class="line"></span><br><span class="line">func = <span class="keyword">lambda</span> f, g: <span class="keyword">lambda</span> x: f(g(x))</span><br><span class="line">f = func(<span class="keyword">lambda</span> x: x ** <span class="number">2</span>, <span class="keyword">lambda</span> y: y + <span class="number">1</span>)</span><br><span class="line">f(<span class="number">12</span>) <span class="comment"># return 169</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">lambda</span> f,g: <span class="keyword">lambda</span> x: f(g(x)))(<span class="keyword">lambda</span> x: x ** <span class="number">2</span>, <span class="keyword">lambda</span> y: y + <span class="number">1</span>)(<span class="number">12</span>) <span class="comment"># return 169</span></span><br></pre></td></tr></table></figure>

<p>Decorator: apply a higher-order function as part of executing a def statement:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">trace</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapped</span>(<span class="params">x</span>):</span></span><br><span class="line">        print(<span class="string">&#x27;=&gt;&#x27;</span>, func, <span class="string">&#x27;(&#x27;</span>, x, <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> wrapped</span><br><span class="line"></span><br><span class="line"><span class="meta">@trace</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">identity</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;identity(<span class="number">5</span>) <span class="comment"># when executing the def statement with  @ &lt;decorator_name&gt; above it, the interpreter will automaticaly run the decorator function</span></span><br></pre></td></tr></table></figure>

<p>Newton’s Method:</p>
<p>The procedure of Newton’s method:</p>
<p>1) have the function $$func$$ and an initial guess $$x_0$$</p>
<p>2) update the guess by the relationship: $$x_n = x_{n-1} - \frac{func(x_{n-1})}{d func(x_{n-1})}$$</p>
<p>3) stop the iteration when $$func(x_{n}) = 0$$ or $$|func(x_n) - target| &lt; boundry$$</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The following example calculates the nth root of a number using Newton&#x27;s Method:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nth_root</span>(<span class="params">n, f, df, guess, target, boundry=<span class="number">1e-6</span></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Calculate the nth root of a number</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    n -- the nth order</span></span><br><span class="line"><span class="string">    f -- the function used in the calculation process</span></span><br><span class="line"><span class="string">    df -- the differential function of f</span></span><br><span class="line"><span class="string">    guess -- initial guess of the root</span></span><br><span class="line"><span class="string">    target -- the base of which we want to know the root</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">abs</span>(f(guess, n, target)) &gt; boundry:</span><br><span class="line">        guess = guess - f(guess, n, target) / df(guess, <span class="number">5</span>)</span><br><span class="line">    <span class="keyword">return</span> guess</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>(<span class="params">x, n, target</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;The function used to calculate nth root</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    x -- the independent variable in the function</span></span><br><span class="line"><span class="string">    n -- the nth order</span></span><br><span class="line"><span class="string">    target -- the base of which we want to know the root</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> x ** n - target</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">df1</span>(<span class="params">x, n</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;The differential function of f1</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    x -- the independent variable in the function</span></span><br><span class="line"><span class="string">    n -- the nth order</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> n * (x ** (n - <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="Project-01-Hog"><a href="#Project-01-Hog" class="headerlink" title="Project 01 Hog"></a>Project 01 Hog</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">randint(a,b) <span class="comment"># a &lt;= x &lt;= b</span></span><br></pre></td></tr></table></figure>

<p>Nonlocal variable: a variable declared in the outer function but can be modified in the inner function </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>():</span></span><br><span class="line">    x = <span class="number">5</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span>():</span></span><br><span class="line">        <span class="keyword">nonlocal</span> x</span><br><span class="line">        x += <span class="number">1</span></span><br><span class="line">    f2()</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">print(f1())    <span class="comment"># 6</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ls.sort(key = <span class="keyword">lambda</span> x: x[<span class="number">0</span>],reverse = <span class="literal">True</span>)  <span class="comment"># Default ascending</span></span><br><span class="line">rs = []</span><br><span class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> ls:</span><br><span class="line">    <span class="keyword">if</span> ele[<span class="number">0</span>] == ls[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">    rs.append(ele[<span class="number">1</span>])                       <span class="comment"># List comprehension: rs = [ele[1] for ele in ls if ele[0] == ls[0][0]]</span></span><br><span class="line">print(<span class="built_in">min</span>(rs))</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="Lecture-05-2018-08-31"><a href="#Lecture-05-2018-08-31" class="headerlink" title="Lecture 05 2018/08/31"></a>Lecture 05 2018/08/31</h1><p>How to draw an environment diagram:</p>
<p>1) when defines an function:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fn: &lt;fun_name&gt;   --------------------&gt; func &lt;fun_name&gt;(&lt;formal_parameters&gt;)[parent = &lt;parent&gt;]                       </span><br></pre></td></tr></table></figure>

<p>2) when calls a function:</p>
<ol>
    <li>create a local frame titled with the function being called</li>
    <li>copy the parent of the function to the local frame: [parent = &lt parent &gt]</li>
    <li>bind &lt formal-parameters &gt to arguments in the local frame</li>
    <li>execute the body of the function in the environment that starts with the local frame</li>
</ol>



<h1 id="Lecture-06-2018-09-03"><a href="#Lecture-06-2018-09-03" class="headerlink" title="Lecture 06 2018/09/03"></a>Lecture 06 2018/09/03</h1><p>Self-reference: a function that refers to itself in the function body is called self-reference</p>
<h1 id="Lecture-07-2018-09-05"><a href="#Lecture-07-2018-09-05" class="headerlink" title="Lecture 07 2018/09/05"></a>Lecture 07 2018/09/05</h1><p>Recursive function: can be divided into a base case and recursive function calls</p>
<br>

<p>Mutual recursion:  if a recursive procedure can be divided into two functions that call each other, then the two functions are mutual recursive.</p>
<p>The mutual recursive functions can be rewritten into a single recursive function. Say if you use two functions to represent the even and odd cases respectively, you can then replace them using one function that uses a step of two.</p>
<br>

<p>Tree recursion: a function calls itself multiple times in the function body</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># An example: let par(n, m) be the function that calculates the number of differentt partitions of an integer n, requiring each fraction no greater than m</span></span><br><span class="line"><span class="comment"># In such a case we must have par(n, m) = par(n - m, m) + par(n, m - 1). par(n - m, m) represents the partitions that use m as a fraction while par(n, m - 1) represents the remaining partitions</span></span><br></pre></td></tr></table></figure>

<br>

<p>The Luhn algorithm: used for the credit card number checker. </p>
<p>The credit card number consists of two parts: the ordinary digits and the check digit at last. For example,if the account number is “7992739871” and the check number is X, then the full account number is “7992739871X”. The Luhn algorithm is used to calculate what the number X is.</p>
<p>Steps of Luhn Algorithm:</p>
<ol>
<li><p>Starting from the rightmost digit(the check digit) and moving left, double the value of every second digit; if the result of doubling operation is greater than 9, then sum the digits of the result(e.g., 6 * 2 = 12 &gt; 9, then replace 12 with 1 + 2 = 3 )</p>
</li>
<li><p>Add the resulting numbers in each place, denote it as sum_results, then the check digit can be calculated in the following ways:</p>
<p> ​                                                                                                  $$ check_digit = (10 - (sum_results \quad mod \quad 10) \quad mod \quad 10)$$</p>
</li>
</ol>
<p>For the above example, the sum_results = 1 * 2 + 7 + 7( 8 * 2 =&gt; 7) + 9 + 3 * 2 + 7 + 2 * 2 + 9 + 9( 9 * 2 =&gt; 9) + 7 = 67. Then check_digit =  (10 - 67 % 10) % 10 = 3. So the full credit card number is “7992739871X”.</p>
<p>A simple way to verify whether the check_digit is correct:  if <code>(sum_results + check_digit) % 10 == 0</code>, then the check_digit is correct.</p>
<h1 id="Lecture-08-2018-09-07"><a href="#Lecture-08-2018-09-07" class="headerlink" title="Lecture 08 2018/09/07"></a>Lecture 08 2018/09/07</h1><p>Functional abstractions: concrete implementations do not matter in this situation.</p>
<br>

<p>Choosing names:</p>
<ul>
    <li> Names should convey the meaning or purpose of the values to which they're bound</li>
    <li> The type of values bound to the name is best documented in the docstring of the function</li>
    <li> Names can be long if they help to document your code</li>
    <li> Names can be short if they represent generic quantities</li>
</ul>


<br>

<p>Test-driven development:</p>
<ul> 
    <li> Write test for functions before you actually implementing the function itself</li>
    <li> Develop incrementally and test each piece before moving on</li>
    <li> Run your code interactively</li>    
</ul>



<h1 id="Lecture-09-2018-09-12"><a href="#Lecture-09-2018-09-12" class="headerlink" title="Lecture 09 2018/09/12"></a>Lecture 09 2018/09/12</h1><p>Different ways to implementations recursive functions:</p>
<ul>
    <li> If multiple implementations of a function are equally clear, then you should choose the shorter one </li>
    <li> If the longer one is more clear, then you should use it</li>
    <li> Sometimes the base case is omitted so the function implementations are shorter, however, the function is still recursive in these cases</li>
</ul>


<br>

<p>If you store every intermediate value during the recursion process, then it is pretty slow compared with Iteration.</p>
<h1 id="HW-02"><a href="#HW-02" class="headerlink" title="HW 02"></a>HW 02</h1><p>This one is quite hard for me, I spent a long time converting iteration to recursion for the ping pong question and the count coins question. At first there were duplicate results in my recursion formula and I checked for a while, also I turned to the hint videos on the website for inspiration.  I learnt several lessons from these two problems:</p>
<ol>
    <li>If you want to preserve several variables through the recursion process, define a helper function with all needed variables as arguments inside the target function.</li>
    <li>If counting from the largest number doesn't work, then try starting from the smallest one.</li>
    <li>A forluma: term(n, m) = term(n - m, m) + term(n, fun(m))</li>
</ol>


<br>

<p>The recursive lambda:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> func: <span class="keyword">lambda</span> args: func(func,args)             <span class="comment"># This is a general form for recursive lambda, the func is a two-argument recursive function</span></span><br><span class="line">(<span class="keyword">lambda</span> func: <span class="keyword">lambda</span> args: func(func,args))(<span class="keyword">lambda</span> f, x: x * f(f, x - <span class="number">1</span>))(n) <span class="comment"># This calculate the factorial(n)</span></span><br></pre></td></tr></table></figure>



<h1 id="Lecture-10-2018-09-14"><a href="#Lecture-10-2018-09-14" class="headerlink" title="Lecture 10 2018/09/14"></a>Lecture 10 2018/09/14</h1><p>Each value in Python has a class that determines the type of the value, values share class and behavior.</p>
<br>

<p>Native data types:</p>
<ul>
<li>Properties:<ul>
<li>literals: expressions that evaluate to values of native data types</li>
<li>functions and operations to manipulate values of native data types</li>
</ul>
</li>
<li>Categories:<ul>
<li>numeric types: int (integers), float (real numbers), complex (complex numbers)</li>
<li>no-numeric types: bool (True / False), the majority of no-numeric data types cannot be described in native data types</li>
</ul>
</li>
</ul>
<br>

<p>Data abstraction: separate segments of programs that deal with how data are represented from segments of programs that deal with how data are manipulated</p>
<p>Function abstraction: separate how function is implemented and how function is used</p>
<br>

<p>Abstraction barrier: lower-layer functions are invisible to function users, they only access higher-layer functions, the higher-layer functions can interact with the lower-layer functions. In such a way, how data is actually implemented, how lower-layer function is defined (like selector/ constructor  e.g., get/set, constructor in Java) don’t affect the behavior of the data types/ functions.</p>
<h1 id="Lecture-11-2018-09-17"><a href="#Lecture-11-2018-09-17" class="headerlink" title="Lecture 11 2018/09/17"></a>Lecture 11 2018/09/17</h1><p>Sequence: an ordered collection of values, there are different types of sequences, but they share common behaviors.</p>
<ul>
<li>Properties: finite length, an empty sequence has 0 length</li>
<li>Indexing: starting from 0</li>
<li>list is a type of sequence, string is a type of sequence, range is a type of sequence</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)  <span class="comment"># use underscore instead of index like i</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">map_list</span>(<span class="params">func, ls</span>):</span></span><br><span class="line">    <span class="keyword">return</span> [func(ele) <span class="keyword">for</span> ele <span class="keyword">in</span> ls]</span><br><span class="line"></span><br><span class="line">map_list = <span class="keyword">lambda</span> func,ls: <span class="built_in">list</span>(<span class="built_in">map</span>(func, ls))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">subset_list</span>(<span class="params">func, ls</span>):</span></span><br><span class="line">    <span class="keyword">return</span> [ele <span class="keyword">for</span> ele <span class="keyword">in</span> ls <span class="keyword">if</span> func(ele)]</span><br><span class="line"></span><br><span class="line">subset_list = <span class="keyword">lambda</span> func, ls: <span class="built_in">list</span>(<span class="built_in">filter</span>(func, ls))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reduce_list</span>(<span class="params">func, ls, initial</span>):</span></span><br><span class="line">    reduced = initial</span><br><span class="line">    <span class="keyword">for</span> ele <span class="keyword">in</span> ls:</span><br><span class="line">        reduced  = func(reduced, ele)</span><br><span class="line">    <span class="keyword">return</span> reduced</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">reduce_list = reduce(func, ls)  <span class="comment"># The initial value for reduce function can be omitted</span></span><br></pre></td></tr></table></figure>



<h1 id="Lab-04"><a href="#Lab-04" class="headerlink" title="Lab 04"></a>Lab 04</h1><p>I stuck at question 5 for some time, so I put the question here:</p>
<p>A subsequence of a number is a series of (not necessarily contiguous) digits of the number. For example, 12345 has subsequences that include 123, 234, 124, 245, etc. Your task is to get the maximum subsequence below a certain length.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">max_subseq</span>(<span class="params">n, t</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Return the maximum subsequence of length at most t that can be found in the given number n.</span></span><br><span class="line"><span class="string">    For example, for n = 20125 and t = 3, we have that the subsequences are</span></span><br><span class="line"><span class="string">        2</span></span><br><span class="line"><span class="string">        0</span></span><br><span class="line"><span class="string">        1</span></span><br><span class="line"><span class="string">        2</span></span><br><span class="line"><span class="string">        5</span></span><br><span class="line"><span class="string">        20</span></span><br><span class="line"><span class="string">        21</span></span><br><span class="line"><span class="string">        22</span></span><br><span class="line"><span class="string">        25</span></span><br><span class="line"><span class="string">        01</span></span><br><span class="line"><span class="string">        02</span></span><br><span class="line"><span class="string">        05</span></span><br><span class="line"><span class="string">        12</span></span><br><span class="line"><span class="string">        15</span></span><br><span class="line"><span class="string">        25</span></span><br><span class="line"><span class="string">        201</span></span><br><span class="line"><span class="string">        202</span></span><br><span class="line"><span class="string">        205</span></span><br><span class="line"><span class="string">        212</span></span><br><span class="line"><span class="string">        215</span></span><br><span class="line"><span class="string">        225</span></span><br><span class="line"><span class="string">        012</span></span><br><span class="line"><span class="string">        015</span></span><br><span class="line"><span class="string">        025</span></span><br><span class="line"><span class="string">        125</span></span><br><span class="line"><span class="string">    and of these, the maxumum number is 225, so our answer is 225.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_subseq(20125, 3)</span></span><br><span class="line"><span class="string">    225</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_subseq(20125, 5)</span></span><br><span class="line"><span class="string">    20125</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_subseq(20125, 6) # note that 20125 == 020125</span></span><br><span class="line"><span class="string">    20125</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_subseq(12345, 3)</span></span><br><span class="line"><span class="string">    345</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_subseq(12345, 0) # 0 is of length 0</span></span><br><span class="line"><span class="string">    0</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; max_subseq(12345, 1)</span></span><br><span class="line"><span class="string">    5</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">if</span> t == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> t &gt;= <span class="built_in">len</span>(<span class="built_in">str</span>(n)):</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(<span class="number">10</span> * max_subseq(n // <span class="number">10</span>, t - <span class="number">1</span>) + n % <span class="number">10</span>, max_subseq(n // <span class="number">10</span>, t))</span><br></pre></td></tr></table></figure>



<h1 id="Lecture-12-2018-09-19"><a href="#Lecture-12-2018-09-19" class="headerlink" title="Lecture 12 2018/09/19"></a>Lecture 12 2018/09/19</h1><p>Box- and-pointer notation: a way to represent lists in the environment diagrams</p>
<p>It’s a series of adjacent boxes with two parts in each box, the first part is an index, the second is a value for this box or a pointer pointing to another box or pointing to a function.</p>
<br>

<p>Processing container values:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sum(iterable [, initial_value]) -&gt; value</span><br><span class="line">max(iteratble, key = func) -&gt; value # max([func(ele) for ele in iterable])</span><br><span class="line">all(iterable) -&gt; bool # True if the iterable is empty or bool(x) is true for each x in the iterable, False otherwise</span><br></pre></td></tr></table></figure>

<br>

<p>Trees abstraction:</p>
<ul>
<li>Recursive definition: a root label and a list of branches, each branch is a tree; a tree with no branch is called a leaf</li>
<li>Relative definition: each location in a tree is a node, each node has a label that can be any value; one node can be parent/child of another</li>
</ul>
<br>

<p>Sum of nested list: return a list, the element of which is the sum of the elements of the original list at that place</p>
<br>

<p>Functions that take trees as inputs/outputs are often tree-recursive themselves</p>
<h1 id="Lecture-13-2018-09-21"><a href="#Lecture-13-2018-09-21" class="headerlink" title="Lecture 13 2018/09/21"></a>Lecture 13 2018/09/21</h1><p>Objects combine data and behavior, objects represent information, but also behave like the things they represent.</p>
<br>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> date</span><br><span class="line">mydate = date(<span class="number">22021</span>,<span class="number">2</span>,<span class="number">20</span>)</span><br><span class="line">mydate.strftime(<span class="string">&#x27;%a, %b %d&#x27;</span>)  <span class="comment"># &#x27;Sat Feb 20&#x27;  %a means week, %b means month, %d means day</span></span><br></pre></td></tr></table></figure>

<br>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span>.swapcase()  <span class="comment"># swap lowercases and uppercases in a string</span></span><br></pre></td></tr></table></figure>

<br>

<p>Identity operator and equality operator:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a <span class="keyword">is</span> b <span class="comment"># True is a and b points to the same object</span></span><br><span class="line">a == b <span class="comment"># True if the pointed objects have the same value</span></span><br><span class="line"><span class="comment"># If a is b equals to true then a == b must be true, but no otherwise</span></span><br></pre></td></tr></table></figure>



<h1 id="Lecture-14-2018-09-24"><a href="#Lecture-14-2018-09-24" class="headerlink" title="Lecture 14 2018/09/24"></a>Lecture 14 2018/09/24</h1><p>Motivation: Sometimes we want to maintain some state within a function. For example, if we define a function called <code>withdraw(amount)</code> to withdraw  a certain amount of money from the bank,  the function returns the remaining balance in your account. We then want to maintain the balance within the function, which means if we call the function multiple times with the same amount parameter, we should have different returning values. </p>
<p>There are two different ways to tackle this problem:</p>
<ul>
<li>We can use the nonlocal statement:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">withdraw_account</span>(<span class="params">balance</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">withdraw</span>(<span class="params">amount</span>):</span></span><br><span class="line">        <span class="keyword">nonlocal</span> balance</span><br><span class="line">        <span class="keyword">if</span> amount &gt; balance:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;Insufficient funds&#x27;</span></span><br><span class="line">        balance -= amount</span><br><span class="line">        <span class="keyword">return</span> balance</span><br><span class="line">    <span class="keyword">return</span> withdraw</span><br></pre></td></tr></table></figure>

<ul>
<li>We can use the mutable objects:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">withdraw_account</span>(<span class="params">balance</span>):</span></span><br><span class="line">    b = [balance]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">withdraw</span>(<span class="params">amount</span>):</span></span><br><span class="line">        <span class="keyword">if</span> amount &gt; b[<span class="number">0</span>]:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;Insufficient funds&#x27;</span></span><br><span class="line">        b[<span class="number">0</span>] -= amount</span><br><span class="line">        <span class="keyword">return</span> b[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> withdraw</span><br></pre></td></tr></table></figure>

<br>

<p>If you use nonlocal statement for a variable, then it must be bound in the first non-local parent frame of the current frame.</p>
<br>

<p>Python pre-computes which frame contains which names before executing the function body. Within a function body, all instances of a name must refer to the same frame.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">withdraw_account</span>(<span class="params">balance</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">withdraw</span>(<span class="params">amount</span>):</span></span><br><span class="line">        <span class="comment">#nonlocal balance</span></span><br><span class="line">        <span class="keyword">if</span> amount &gt; balance:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;Insufficient funds&#x27;</span></span><br><span class="line">        balance -= amount</span><br><span class="line">        <span class="keyword">return</span> balance</span><br><span class="line">    <span class="keyword">return</span> withdraw</span><br></pre></td></tr></table></figure>

<p>In the above example, if we omit the nonlocal statement, it will cause a UnboundLocalError, because within the body of function withdraw, the local variable <code>balance</code> is referenced before assignment.</p>
<br>

<p>Referential transparency: if an expression can be replaced by its value without changing the meaning of a program, then the expression is called referential transparent.</p>
<br>

<p>An example of nonlocal statement:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x</span>):</span></span><br><span class="line">    x = <span class="number">4</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">g</span>(<span class="params">y</span>):</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">h</span>(<span class="params">z</span>):</span></span><br><span class="line">            <span class="keyword">nonlocal</span> x</span><br><span class="line">            x += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> x + y + z</span><br><span class="line">        <span class="keyword">return</span> h</span><br><span class="line">    <span class="keyword">return</span> g</span><br><span class="line">a = f(<span class="number">1</span>)</span><br><span class="line">b = a(<span class="number">2</span>)</span><br><span class="line">total = b(<span class="number">3</span>) + b(<span class="number">4</span>) <span class="comment"># 22, b(3) == 10, b(4) == 12</span></span><br></pre></td></tr></table></figure>



<h1 id="Lecture-15-2018-09-26"><a href="#Lecture-15-2018-09-26" class="headerlink" title="Lecture 15 2018/09/26"></a>Lecture 15 2018/09/26</h1><p>Iterators:</p>
<ol>
<li><p>An container can provide and iterator that provides access to its elements in some order</p>
</li>
<li><p>Some related functions:<br> 2.1. iter(iterable): returns an iterator</p>
<p>2.2. next(iterator): returns the next element in the iterator</p>
<p>2.3. list(iterator): list the unvisited elements in the iterator. If listed, then an iterator cannot be used again, otherwise an StopIterationError will be caused</p>
</li>
<li><p>Iterators are mutable objects</p>
</li>
</ol>
<br>

<p>Dictionary iteration:</p>
<ol>
<li>The values, keys and items of a dictionary are all iterable. For Python version 3.6 and higher, the iteration order is the order by which items are added into the dictionary, for Python version 3.5 or lower, the iteration order is arbitrary.</li>
<li>If the size of the dictionary is changed during iteration(you add something into the dictionary or you pop something during iteration), an RuntimeError will be caused. For lists,  you can do whatever you want to the list during iteration.</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># If you want to remove keys of which the values are empty,the following way is wrong and causes an RuntimeError</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d:</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> d[key]:</span><br><span class="line">        d.pop(key)                               </span><br><span class="line"><span class="comment"># You should do like this</span></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> d.copy():</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> d[key]:</span><br><span class="line">        d.pop(key)</span><br></pre></td></tr></table></figure>

<br>

<p>For iteration over iterables and iterators:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> iterable:                 <span class="comment"># Iteration on iterables can be executed multiple times</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> iterator:                 <span class="comment"># Iteration on iterators can be executed only once, otherwise StopIterationErro is caused</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<br>

<p>Built-in iterator functions:</p>
<ol>
<li><p>Many operations on sequences return iterators that compute results lazily, lazy computation means result is only computed when needed</p>
</li>
<li><p>Example functions:</p>
<p> 2.1 map(func, iterable)</p>
<p> 2.2 filter(func, iterable)</p>
<p> 2.3 zip(first_iter, second_iter)</p>
<p> 2.4 reserved(seq)</p>
</li>
</ol>
<br>

<p>Generators:</p>
<ol>
<li>Generators are special iterators that they are results of generator functions</li>
<li>A generator function uses yield statements to replace the return statement, all yield statements can be executed and related values can be returned</li>
<li>Yield from statement: returns al values in an iterable or an iterator,the following two ways are equal:</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> iterable:</span><br><span class="line">    <span class="keyword">yield</span> x</span><br><span class="line"></span><br><span class="line"><span class="keyword">yield</span> <span class="keyword">from</span> iterable</span><br></pre></td></tr></table></figure>



<h1 id="Lab-05"><a href="#Lab-05" class="headerlink" title="Lab 05"></a>Lab 05</h1><p> Q9: Riffle Shuffle</p>
<p>The familiar <a target="_blank" rel="noopener" href="https://fredhohman.com/card-shuffling/static/images/riffle.gif">riffle shuffle</a> of a deck of cards (or in our case, of a sequence of things) results in a new configuration of cards in which the top card is followed by the middle card, then by the second card, then the card after the middle, and so forth. Assuming the deck (sequence) contains an even number of cards, write a list comprehension that produces the shuffled sequence.</p>
<p><em>Hint:</em> To write this as a single comprehension, you may find the expression <code>k%2</code>, which evaluates to 0 on even numbers and 1 on odd numbers, to be useful. Consider how you can use the 0 or 1 returned by <code>k%2</code> to alternatively access the beginning and the middle of the list.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">riffle</span>(<span class="params">deck</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Produces a single, perfect riffle shuffle of DECK, consisting of</span></span><br><span class="line"><span class="string">    DECK[0], DECK[M], DECK[1], DECK[M+1], ... where M is position of the</span></span><br><span class="line"><span class="string">    second half of the deck.  Assume that len(DECK) is even.</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; riffle([3, 4, 5, 6])</span></span><br><span class="line"><span class="string">    [3, 5, 4, 6]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; riffle(range(20))</span></span><br><span class="line"><span class="string">    [0, 10, 1, 11, 2, 12, 3, 13, 4, 14, 5, 15, 6, 16, 7, 17, 8, 18, 9, 19]</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="string">&quot;*** YOUR CODE HERE ***&quot;</span></span><br><span class="line">    <span class="keyword">return</span> _______</span><br></pre></td></tr></table></figure>

<p>My intuition: we first make a list of nested lists, each element in the out-layer list is a two-element list, then we reduce the out-layer list to one dimension,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> [item <span class="keyword">for</span> sublits <span class="keyword">in</span> [[deck[k], deck[k + <span class="built_in">len</span>(deck) // <span class="number">2</span>] <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(deck) // <span class="number">2</span>)] <span class="keyword">for</span> item <span class="keyword">in</span> sublist] </span><br></pre></td></tr></table></figure>



<p>Another solution following the hint: for odd position, the index needs to plus <code>len(deck) // 2</code>, for even position, the index is just <code>k</code>, so we simply use <code>k % 2</code> to separate the indices,</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> [deck[k + (k % <span class="number">2</span>) * (<span class="built_in">len</span>(deck) // <span class="number">2</span>)] <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(deck))] </span><br></pre></td></tr></table></figure>


    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/CS61A/" rel="tag"># CS61A</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/01/21/%E4%B9%B0%E6%88%BF%E7%AF%87/" rel="prev" title="买房篇">
      <i class="fa fa-chevron-left"></i> 买房篇
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Notice"><span class="nav-number">1.</span> <span class="nav-text">Notice</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-01-2018-08-22"><span class="nav-number">2.</span> <span class="nav-text">Lecture 01 2018&#x2F;08&#x2F;22</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-02-2018-08-24"><span class="nav-number">3.</span> <span class="nav-text">Lecture 02 2018&#x2F;08&#x2F;24</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lab-00"><span class="nav-number">4.</span> <span class="nav-text">Lab 00</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HW-01"><span class="nav-number">5.</span> <span class="nav-text">HW 01</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-03-2018-08-27"><span class="nav-number">6.</span> <span class="nav-text">Lecture 03 2018&#x2F;08&#x2F;27</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lab-01"><span class="nav-number">7.</span> <span class="nav-text">Lab 01</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-04-2018-08-29"><span class="nav-number">8.</span> <span class="nav-text">Lecture 04 2018&#x2F;08&#x2F;29</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Project-01-Hog"><span class="nav-number">9.</span> <span class="nav-text">Project 01 Hog</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-05-2018-08-31"><span class="nav-number">10.</span> <span class="nav-text">Lecture 05 2018&#x2F;08&#x2F;31</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-06-2018-09-03"><span class="nav-number">11.</span> <span class="nav-text">Lecture 06 2018&#x2F;09&#x2F;03</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-07-2018-09-05"><span class="nav-number">12.</span> <span class="nav-text">Lecture 07 2018&#x2F;09&#x2F;05</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-08-2018-09-07"><span class="nav-number">13.</span> <span class="nav-text">Lecture 08 2018&#x2F;09&#x2F;07</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-09-2018-09-12"><span class="nav-number">14.</span> <span class="nav-text">Lecture 09 2018&#x2F;09&#x2F;12</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HW-02"><span class="nav-number">15.</span> <span class="nav-text">HW 02</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-10-2018-09-14"><span class="nav-number">16.</span> <span class="nav-text">Lecture 10 2018&#x2F;09&#x2F;14</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-11-2018-09-17"><span class="nav-number">17.</span> <span class="nav-text">Lecture 11 2018&#x2F;09&#x2F;17</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lab-04"><span class="nav-number">18.</span> <span class="nav-text">Lab 04</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-12-2018-09-19"><span class="nav-number">19.</span> <span class="nav-text">Lecture 12 2018&#x2F;09&#x2F;19</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-13-2018-09-21"><span class="nav-number">20.</span> <span class="nav-text">Lecture 13 2018&#x2F;09&#x2F;21</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-14-2018-09-24"><span class="nav-number">21.</span> <span class="nav-text">Lecture 14 2018&#x2F;09&#x2F;24</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lecture-15-2018-09-26"><span class="nav-number">22.</span> <span class="nav-text">Lecture 15 2018&#x2F;09&#x2F;26</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Lab-05"><span class="nav-number">23.</span> <span class="nav-text">Lab 05</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yanxuanshaozhu"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Yanxuanshaozhu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yanxuanshaozhu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yanxuanshaozhu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:mrlixm.cn@gmail.com" title="E-Mail → mailto:mrlixm.cn@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yanxuanshaozhu</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
