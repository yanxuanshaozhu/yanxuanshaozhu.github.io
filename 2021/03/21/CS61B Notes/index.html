<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yanxuanshaozhu.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Lecture 01 2018&#x2F;01&#x2F;17 1 Hello World">
<meta property="og:type" content="article">
<meta property="og:title" content="CS61B Notes">
<meta property="og:url" content="https://yanxuanshaozhu.github.io/2021/03/21/CS61B%20Notes/index.html">
<meta property="og:site_name" content="My Blog">
<meta property="og:description" content="Lecture 01 2018&#x2F;01&#x2F;17 1 Hello World">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://yanxuanshaozhu.github.io/images/CS61B/Collection.png">
<meta property="og:image" content="https://yanxuanshaozhu.github.io/images/CS61B/2-3-tree.png">
<meta property="og:image" content="https://yanxuanshaozhu.github.io/images/CS61B/3-nodes-conversion1.png">
<meta property="og:image" content="https://yanxuanshaozhu.github.io/images/CS61B/3-nodes-conversion2.png">
<meta property="article:published_time" content="2021-03-22T00:15:47.000Z">
<meta property="article:modified_time" content="2024-07-10T16:18:19.560Z">
<meta property="article:author" content="Yanxuanshaozhu">
<meta property="article:tag" content="CS61B">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yanxuanshaozhu.github.io/images/CS61B/Collection.png">

<link rel="canonical" href="https://yanxuanshaozhu.github.io/2021/03/21/CS61B%20Notes/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>CS61B Notes | My Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">My Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-portfolio">

    <a href="/portfolio/" rel="section"><i class="fas fa-wallet fa-fw"></i>Portfolio</a>

  </li>
        <li class="menu-item menu-item-memories">

    <a href="/memories/" rel="section"><i class="fas fa-camera fa-fw"></i>Memories</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://yanxuanshaozhu.github.io/2021/03/21/CS61B%20Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Yanxuanshaozhu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="My Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          CS61B Notes
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-03-21 20:15:47" itemprop="dateCreated datePublished" datetime="2021-03-21T20:15:47-04:00">2021-03-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-07-10 12:18:19" itemprop="dateModified" datetime="2024-07-10T12:18:19-04:00">2024-07-10</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Computer-Science/" itemprop="url" rel="index"><span itemprop="name">Computer Science</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Symbols count in article: </span>
              <span>81k</span>
            </span>
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">Reading time &asymp;</span>
              <span>1:14</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="lecture-01-20180117">Lecture 01 2018/01/17</h1>
<p>1 Hello World</p>
<span id="more"></span>
<ol type="1">
<li><p>All code lives inside of classes, each file should have a public
class that is has the same name with the file itself</p></li>
<li><p>Main function</p>
<ul>
<li>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> &lt;<span class="title">ClassName</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//Function body here;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>The main function can be regarded as the entrance to the
program</li>
</ul></li>
<li><p>Use curly braces to denote the beginning and ending of the
code</p></li>
<li><p>Statements should end with semi-colons</p></li>
</ol>
<p>2 Running a Java Program</p>
<ol type="1">
<li>Java complier: <code>javac</code>, Java interpreter:
<code>java</code></li>
<li>Syntax: <code>javac xxx.java</code>, <code>java xxx</code></li>
<li>Procedure: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// source file: xxx.java =&gt; javac xxx.java =&gt; binary file: xxx.class =&gt; java xxx =&gt; execution results</span></span><br></pre></td></tr></table></figure></li>
<li>Notice: the source file name should be the same as the name of the
public class contained inside it</li>
<li>Why binary file is needed:
<ul>
<li>It's type checked, to it's safer</li>
<li>It's simpler for machine to execute the binary file, so it's
faster</li>
<li>Protect intellectual property, you don't need to give the original
source file</li>
</ul></li>
</ol>
<p>3 Variables and Loops</p>
<ol type="1">
<li>A variable should be declared with its type before it's used</li>
<li>You can use while loop, for loop, for each loop or other loops</li>
</ol>
<p>4 Gradscope course code: MNXYKX</p>
<p>5 Static Typing</p>
<ol type="1">
<li>All variables and expressions have a static-type, the type cannot be
changed</li>
<li>Java complier performs a static type check, if there is an error in
the source code, then the program is rejected before it even runs. While
Python is a dynamically typed language, it runs until an error
occurs</li>
</ol>
<p>6 Defining Functions</p>
<ol type="1">
<li><p>Functions should be defined inside classes, we can call them
methods</p></li>
<li><p>Here we only use static function</p>
<ul>
<li>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;<span class="keyword">return</span> type&gt; &lt;function name&gt; (&lt;formal parameters&gt;) &#123;</span><br><span class="line">        <span class="comment">//function body;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li><p>Functions in Java can have at most one return values, but
functions in Python can return multiple values</p></li>
</ol>
<p>7 Code Style, Comments, Javadoc</p>
<ol type="1">
<li>Good coding style:
<ul>
<li><p>Consistent styles(spacing, variable naming, brace style,
etc)</p></li>
<li><p>Size(lines are not two wide, source files are not too
large)</p></li>
<li><p>Description naming(variables, functions, classes)</p></li>
<li><p>Comments where appropriate</p>
<ul>
<li>Line comment <code>// Comments</code></li>
<li>Multi-line comments: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Comments</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
<li>Javadoc: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Comments</span></span><br><span class="line"><span class="comment">* /</span></span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul></li>
<li>Comments:
<ul>
<li>Methods, classes and variables should be described using Javadoc
format <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Class comments:</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@author</span> First Name Last Name &lt;address@example.com&gt;</span></span><br><span class="line"><span class="comment">* <span class="doctag">@version</span> Version number</span></span><br><span class="line"><span class="comment">* @ since  First compatible version number</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * One line description</span></span><br><span class="line"><span class="comment">    * </span></span><br><span class="line"><span class="comment">    * Detailed description</span></span><br><span class="line"><span class="comment">    * </span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> Parameter Name   Description of parameter</span></span><br><span class="line"><span class="comment">    * </span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> Describe the return value</span></span><br><span class="line"><span class="comment">    * </span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">/**  Description of variable x */</span></span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// Function body;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<h1 id="lab-01">Lab 01</h1>
<p>1 Version Control Systems(VCSs):</p>
<ol type="1">
<li>Version control systems are tools to keep track of changes to files
over time</li>
<li>Categories:
<ol type="1">
<li>Local VCS(LVCS): copy files into another directory</li>
<li>Centralized VCS(CVCS):
<ul>
<li>One server with all versioned files</li>
<li>All clients checkout files from the central server</li>
<li>May be affected by single point of failure</li>
<li>Examples: CVS, Subversion, Perforce</li>
</ul></li>
<li>Distributed VCS(DVCS):
<ul>
<li>One server, multiple clients, all have versioned files</li>
<li>If the server dies, it can copy files from an arbitrary client to
restore</li>
<li>Examples: Git, Mercurial, Bazaar, Darcs</li>
</ul></li>
</ol></li>
</ol>
<p>2 Git Local Repository:</p>
<ol type="1">
<li><code>git init</code>: initiate a repository</li>
<li><code>git add &lt;file/directory&gt;</code>: add a file/directory to
list of files to track, the terminology is called to stage a file</li>
<li><code>git commit -m "Message" &lt;file/directory&gt;</code>: store a
snapshot to the added files into the repository</li>
<li><code>git log</code>: show git commit logs</li>
<li><code>git show &lt;object&gt;</code>: for commits, show the commit
messages and textual diff <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// untracked files  =&gt; git add =&gt; tracked files: unmodified/modified/staged</span></span><br></pre></td></tr></table></figure></li>
<li><code>git reset &lt;file/directory&gt;</code>: unstage a
file/directory</li>
<li><code>git commit --amend</code>: change commit messages or add
forgotten files</li>
<li><code>git checkout --&lt;file/directory&gt;</code>: revert a file to
its most recently committed version</li>
</ol>
<p>3 Git Remote Repository:</p>
<ol type="1">
<li><code>git push &lt;remote repo name&gt; &lt;remote repo branch&gt;</code>:
push local repository to remote repository, for example,
<code>git push origin master</code></li>
<li><code>git clone &lt;remote repo url&gt;</code>: copy remote
repository to local repository</li>
<li><code>git remote add &lt;remote repo name&gt; &lt;remote repo url&gt;</code>:
add a remote for the repository</li>
<li><code>git remote -v</code>: list all remotes for the repo</li>
<li><code>git remote add &lt;short name&gt; &lt;remote url&gt;</code>:
add a remote, the short first short name is usually called
<code>origin</code></li>
<li><code>git remote rename &lt;old short name&gt; &lt;new short name&gt;</code>:
rename a remote</li>
<li><code>git remote rm &lt;short name&gt;</code>: remove a remote</li>
<li><code>git clone &lt;remote url&gt;</code>: clone a remote repository
to local repository</li>
<li><code>git clone &lt;remote url&gt; &lt;directory name&gt;</code>:
clone a remote repository to a specific directory</li>
<li><code>fetch</code>: download but not merge, <code>pull</code> =
<code>fetch</code> + <code>merge</code></li>
</ol>
<p>4 Git Branching:</p>
<ol type="1">
<li>Reasons:
<ul>
<li>Be prepared for dramatic changes(called refactoring)</li>
<li>Separate works from others</li>
<li>Leave space for possible incompatible program features</li>
</ul></li>
<li>Commands:
<ul>
<li><code>git branch &lt;branch name&gt;</code>: create a new
branch</li>
<li><code>git checkout &lt;branch name&gt;</code>: switch to a specific
branch</li>
<li><code>git checkout -b &lt;branch name&gt;</code>:create a new branch
and switch to it</li>
<li><code>git branch -d &lt;branch name&gt;</code>: delete a branch</li>
<li><code>git branch -v</code>: show current branch name</li>
</ul></li>
</ol>
<h1 id="hw-00">HW 00</h1>
<p>1 Condition:</p>
<ol type="1">
<li>If Statement:
<ul>
<li><p>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(&lt;<span class="keyword">boolean</span> condition&gt;) &#123;</span><br><span class="line">    <span class="comment">// Do something here;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li>
<li><p>If no curly braces are used, then only the first statement after
the boolean condition is regarded as inside the if statement</p></li>
<li><p>Curly braces: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Allman style/BSD style(in honor of Eric Allman)</span></span><br><span class="line"><span class="keyword">if</span>(&lt;<span class="keyword">boolean</span> condition&gt;)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Do something here;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//k&amp;R style(in honor of Kernighan &amp; Ritchie)</span></span><br><span class="line"><span class="keyword">if</span>(&lt;<span class="keyword">boolean</span> condition&gt;) &#123;</span><br><span class="line">    <span class="comment">// Do something here;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li>
</ul></li>
</ol>
<p>2 Else Statement:</p>
<ol type="1">
<li>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(&lt;<span class="keyword">boolean</span> condition&gt;) &#123;</span><br><span class="line">    <span class="comment">// Do something here;</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// Do something here;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>3 While Loop:</p>
<ol type="1">
<li>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> counter = &lt;start value&gt;;</span><br><span class="line"><span class="keyword">while</span>(&lt;<span class="keyword">boolean</span> condition&gt;) &#123;</span><br><span class="line">    <span class="comment">// Do something here;</span></span><br><span class="line">    <span class="comment">//Change the counter;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>4 Data Type in Java:</p>
<ol type="1">
<li>Data type in Java: <code>byte</code>, <code>short</code>,
<code>char</code>, <code>int</code>, <code>long</code>,
<code>float</code>, <code>double</code>,
<code>boolean</code>(<code>true</code>, <code>false</code>),
<code>Object</code></li>
<li>There are typecasts among different types, and transformation from a
more general type to a smaller type will lose precision</li>
</ol>
<p>5 Array:</p>
<ol type="1">
<li><p>Initialize an array:
<code>&lt;type&gt;[] &lt;name&gt; = new &lt;type&gt;[length];</code>,
For example, <code>int[] values = new int[10];</code>. There is also
another way: <code>int[] values = &#123;1, 2, 3&#125;;</code></p></li>
<li><p>Upon initialization using the first way, an array will be filled
with default values. For an numeric array, it will be filled with
<code>0</code>, for a boolean array, it will be filled with
<code>false</code>, for an object array, it will be filled with
<code>null</code></p></li>
<li><p>Length of an array: <code>&lt;name&gt;.length</code></p></li>
<li><p>Sort an array in place: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line">Arrays.sort(&lt;array name&gt;); <span class="comment">//This method sort returns nothing(void)</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>Higher-dimension array:</p>
<ul>
<li>Initialize an higher-dimension array example:
<code>int[][] values = new int[3][4];</code></li>
</ul></li>
</ol>
<p>6 For Loop:</p>
<ol type="1">
<li>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(&lt;initialization&gt;; &lt;termination&gt;; increment)&#123;</span><br><span class="line">    <span class="comment">// Do something here;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>7 Break and Continue:</p>
<ol type="1">
<li><code>break;</code>: terminate the innermost loop</li>
<li><code>continue;</code>: skip the current iteration of the loop and
jump to the increment</li>
</ol>
<p>8 The Enhanced For Loop:</p>
<ol type="1">
<li>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(&lt;type&gt; ele: &lt;collections&gt;) &#123;</span><br><span class="line">    <span class="comment">// Do something here;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="lecture-02-20180119">Lecture 02 2018/01/19</h1>
<p>1 Static v.s. Non-Static Methods:</p>
<ol type="1">
<li><p>Static methods:</p>
<ul>
<li>If class uses methods in class B, then class A is a client class of
class B.</li>
<li>Two ways to run methods in a class:
<ul>
<li>Run methods in <code>main</code> function in its own class</li>
<li>Run methods in <code>main</code> function of a client class</li>
</ul></li>
</ul></li>
<li><p>Instance variables and object instantiation</p>
<ul>
<li><code>Object</code> is an instance of every class</li>
<li>Instance variables, a.k.a. non-static variables, are defined within
a class</li>
<li>Instance methods, a.k.a. non-static methods, are ones associated
with instances</li>
<li><code>new</code> is used for instantiation</li>
<li>Class methods, a.k.a. static methods, are accessed using dot
notation</li>
</ul></li>
<li><p>Constructor in Java:</p>
<ul>
<li>No return type, the name should be the same as the class name</li>
<li>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> &lt;<span class="title">ClassName</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// Constructor</span></span><br><span class="line">    <span class="keyword">public</span> &lt;ClassName&gt; (&lt;formal parameters&gt;) &#123;</span><br><span class="line">        <span class="keyword">this</span>.&lt;instance field&gt; = parameter;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li><p>Array Instantiation, Arrays of Objects:</p>
<ul>
<li>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;ClassName&gt;[] &lt;array name&gt; = <span class="keyword">new</span> &lt;ClassName&gt;[length];</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<p>2 Class Methods v.s. Instance Methods:</p>
<ol type="1">
<li>Class methods, a.k.a. static methods, are actions taken by class
itself. They are invoked by the class name:
<code>&lt;class name&gt;.&lt;static method name&gt;</code></li>
<li>Instance methods, a.k.a. non-static methods, are actions taken a
specific instance of a class. They are invoked by a class instance:
<code>&lt;instance name&gt;.&lt;non-static method name&gt;</code></li>
<li>Static variables: properties inherent to the class itself, usage:
<code>&lt;class name&gt;.&lt;static variable name&gt;</code></li>
</ol>
<p>3 <code>public static void main(string[] args)</code>:</p>
<ol type="1">
<li>The <code>main</code> function is called by the Java
interpreter</li>
<li>The <code>args</code> are usually refereed to the command line
arguments</li>
</ol>
<p>4 Using Libraries:</p>
<ol type="1">
<li>It will save you bunch of time and energy</li>
</ol>
<h1 id="lecture-03-20180122">Lecture 03 2018/01/22</h1>
<p>1 Bits:</p>
<ol type="1">
<li>Information in memory are 1s and 0s.</li>
<li>8 primitive types: <code>byte</code>, <code>short</code>,
<code>char</code>, <code>int</code>, <code>long</code>,
<code>float</code>, <code>double</code>,
<code>boolean</code>(<code>true</code>, <code>false</code>)</li>
</ol>
<p>2 Declare a Variable in Primitive Type:</p>
<ol type="1">
<li>Syntax: <code>type name;</code>, e.g. <code>int x;</code></li>
<li>Procedure:
<ul>
<li>Computer sets aside enough bits to hold a thing of that type</li>
<li>Java creates an internal table to map a variable to a location</li>
<li>Java does not write anything in the reserved boxes if there is no
assignment</li>
</ul></li>
</ol>
<p>3 The Golden Rule of Equals(GRoE):</p>
<ol type="1">
<li><code>y = x</code> simply copies the bits of x into the box of
y</li>
<li>The rule applies to both primitive values and reference type
objects</li>
</ol>
<p>4 Reference Type:</p>
<ol type="1">
<li>Object instantiation with <code>new</code>:
<ul>
<li>Java allocates a box of bits for each instance variable of the class
and fills them with a default value for the variable type(0, false,
null)</li>
<li>The constructor fills each box with formal parameters if there
exists any</li>
<li>You can think that <code>new</code> returns the location in memory
where the instance is put</li>
</ul></li>
<li>Declaration of reference type:
<ul>
<li>Java allocates a box of 64 bits, no matter what exactly the
reference type object is</li>
<li>The bits set to null(all 0s) or the 64-bit address returned by the
<code>new</code> statement</li>
<li>If you reassign a variable to the another object, then the original
objet is no longer being referred, if there is no other references, it
will be garbage collected</li>
</ul></li>
</ol>
<p>5 Parameter Passing:</p>
<ol type="1">
<li>GRoE applies in parameter passing, so the parameter passing is
called the pass by value</li>
<li>An example: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PassByValueFigure</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Walrus walrus = <span class="keyword">new</span> Walrus(<span class="number">3500</span>, <span class="number">10.5</span>);</span><br><span class="line">        <span class="keyword">int</span> x = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line">        doStuff(walrus, x);                                  </span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Pass by value, so the parameter W is the 64-bit address of walrus, and x is the bits of int 9,</span></span><br><span class="line"><span class="comment">        in the local scope, when W.weight is changed, it also changes the referred object walrus,</span></span><br><span class="line"><span class="comment">        but when the bits of int 9 is changed, is has no influence on the x in the outer scope. </span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        System.out.println(walrus.weight);                   <span class="comment">// 3400</span></span><br><span class="line">        System.out.println(x);                               <span class="comment">// 9</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doStuff</span><span class="params">(Walrus W, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        W.weight = W.weight - <span class="number">100</span>;</span><br><span class="line">        x = x - <span class="number">5</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>6 The IntList class:</p>
<ol type="1">
<li><p>A comparison <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.rest == <span class="keyword">null</span>) &#123;                     <span class="comment">// Here you cannot write like if(this == null )&#123; return 0;&#125;, because it is an instance method,</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;                                <span class="comment">//  it&#x27;s invoked by lst.size(), if lst == null, then this call will result in NullPointer error</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + <span class="keyword">this</span>.rest.size();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">(IntList lst)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lst == <span class="keyword">null</span>) &#123;                           <span class="comment">// For the static method, you can use however, the lst == null statement, because in this situation, </span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;                               <span class="comment">// it&#x27;s invoked by IntList.size(lst)</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + size(lst.rest)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p></li>
<li><p>If you use something like <code>this = this.rest</code> in your
code, it's better to declare ahead <code>IntList cur = this</code> and
use <code>cur</code> instead</p></li>
<li><p>Other functions: <code>size</code>, <code>iterativeSize</code>,
<code>get</code></p></li>
</ol>
<h1 id="lecture-04-20180124">Lecture 04 2018/01/24</h1>
<p>1 Improvements of the <code>IntList</code> into the
<code>SLList</code>:</p>
<ol type="1">
<li><p>Re-branding: rename to <code>IntList</code> class to the
<code>IntNode</code> class</p></li>
<li><p>Bureaucracy:</p>
<ul>
<li>Put <code>IntNode</code> class inside the <code>SLList</code> class,
hide the naked recursive structure in the <code>IntNode</code>
class</li>
<li>add method: <code>addFirst</code>, <code>getFirst</code>,
<code>addLast</code>, <code>size</code></li>
</ul></li>
<li><p>Private v.s. Public:</p>
<ul>
<li>Private variables/methods cannot be accessed from somewhere outside
the java file where they are defined</li>
<li>in real world, private codes should be ignored by users, whereas
public codes could be accessed and used from all users from
anywhere</li>
</ul></li>
<li><p>Nested classes:</p>
<ul>
<li><p>Classes in different files can be put together into nested
classes into a single file</p></li>
<li><p>If the nested class doesn't need access to other instance
variables and methods, it could be declared as
<code>static</code></p></li>
<li><p>Use a helper function when inner class is recursive structure,
but the outer one is not <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">sizeHelper</span><span class="params">(IntNode cur)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cur.next == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> + sizeHelper(cur.next);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;      </span><br><span class="line"><span class="comment">/* This function is wrong, since there is no such function called size() in the inner InterNode class.</span></span><br><span class="line"><span class="comment">public int size() &#123;</span></span><br><span class="line"><span class="comment">        if(cur.next == null) &#123;</span></span><br><span class="line"><span class="comment">            return 1;</span></span><br><span class="line"><span class="comment">        &#125; else &#123;</span></span><br><span class="line"><span class="comment">            return 1 + node.next.size();  =&gt; this call is wrong</span></span><br><span class="line"><span class="comment">        &#125;   </span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> sizeHelper(node);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li>
<li><p>Functions with same name but different signatures are called
overloaded functions</p></li>
</ul></li>
<li><p>Caching:</p></li>
</ol>
<ul>
<li>Use a variable to cache the list size will result in quicker size
function, but lower in addFirst function, addLast function and heavier
memory usage</li>
</ul>
<ol start="6" type="1">
<li>The empty lists:
<ul>
<li>The first way: use a new constructor for the empty list, in this way
you need to take care of the null boundary condition</li>
<li>Use sentinel node as a instance variable to calculate store the
first dummy node, the first actual node is <code>sentinel.next</code>,
this way is preferred for simpler boundary conditions</li>
</ul></li>
<li>Invariants:
<ul>
<li>An invariant is a condition that is guaranteed to be true during
code execution</li>
<li>Invariants for the <code>SLList</code> class:
<ul>
<li>The first item is the <code>sentinel.next.first</code></li>
<li>The size is the actual amount of items</li>
<li>Sentinel references refer to a sentinel node</li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-05-20180126">Lecture 05 2018/01/26</h1>
<p>1 Improvements of the <code>SLList</code> into the
<code>DLList</code>:</p>
<ol type="1">
<li><p>Looking back:</p>
<ul>
<li>The addLast function is slow for the SLList, you can add a
<code>public IntNode prev</code> to convert the SLList(single-linked
list) into the DLList(double-linked list)</li>
<li>Add a last node <code>private IntNode prev</code></li>
</ul></li>
<li><p>Sentinel Update:</p>
<ul>
<li>Deal with the problem that last node can point to both a sentinel
node or a real node</li>
<li>The first way: use two sentinel nodes, one at the beginning of the
list, one at the end of the list</li>
<li>The second way: use one sentinel node, but let the list become
circular, which means the last real node points to the sentinel node at
the beginning</li>
</ul></li>
<li><p>Generic lists:</p>
<ul>
<li>Deal with the problem that the current DLList can only holds int
values</li>
<li>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DLList</span>&lt;<span class="title">T</span>&gt; </span>&#123;                      <span class="comment">// This means the DLList can hold type T values</span></span><br><span class="line">    <span class="keyword">private</span> IntNode sentinel;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> IntNode prev;</span><br><span class="line">        <span class="keyword">public</span> IntNode next;</span><br><span class="line">        <span class="keyword">public</span> T first;                      <span class="comment">// The first item in the IntNode is type T</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Other codes</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//The type in the new statement can be omitted, although it&#x27;s definitely right to add it in the statement </span></span><br><span class="line">DLList&lt;String&gt; lst = <span class="keyword">new</span> DLList&lt;&gt;(<span class="string">&quot;String values&quot;</span>);                     </span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<p>2 Array Basics:</p>
<ol type="1">
<li><p>An array is a special type of object ths consists of a numbered
sequence of memory boxes</p></li>
<li><p>Fixed integer length <span class="math inline">\(N\)</span>, then
<span class="math inline">\(N\)</span> boxes with indices starting from
<span class="math inline">\(0\)</span> to <span class="math inline">\(N
- 1\)</span>, get length of an array:
<code>myArray.length</code></p></li>
<li><p>Creation:</p>
<ul>
<li><code>int[] x = new int[3];</code></li>
<li><code>int[] x = new int[] &#123;1, 2, 3&#125;;</code></li>
<li><code>int[] x = &#123;1, 2, 3&#125;;</code></li>
</ul></li>
<li><p>Access and Modification:</p>
<ul>
<li><code>myArray.length;</code></li>
<li>Same object <code>array1 = array2;</code></li>
<li>Create a new object:
<code>System.arraycopy(old_array, start_old_index, new_array, start_new_index, copy_length);</code></li>
</ul></li>
<li><p>2D Arrays in Java:</p>
<ul>
<li>Example: <code>int[][] x = new int[4][];</code></li>
</ul></li>
<li><p>Arrays v.s. Classes:</p>
<ul>
<li>Both can be used to organize a bunch of memory boxes</li>
<li>Array boxes are numbered and accessed by <code>[]</code>, class
boxes are named(fields) and accessed by <code>.</code></li>
<li>Array boxes should be in the same type, class boxes can be in
different types</li>
<li>One can specify array indices at runtime, and can only use
reflection to specify class fields</li>
</ul></li>
</ol>
<h1 id="lecture-06-20180129">Lecture 06 2018/01/29</h1>
<p>1 DLList: fast in add/remove/get methods, ignore special cases, but
get is slow for long lists, because you need to travel through every
item on the way, which is slower than arrays in this sense, so we can
use AList to tackle this problem</p>
<p>2 Resize AList when full, i.e., when
<code>size == items.length</code>:</p>
<ol type="1">
<li><p>The most trivial way: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Part of the addLast function with resizing taken into consideration</span></span><br><span class="line"><span class="keyword">if</span> (size == items.length) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] newItems = <span class="keyword">new</span> <span class="keyword">int</span>[size + <span class="number">1</span>];</span><br><span class="line">    System.arraycopy(items, <span class="number">0</span>, newItems, <span class="number">0</span>, size);</span><br><span class="line">    newItems[size] = value;</span><br><span class="line">    size += <span class="number">1</span>;</span><br><span class="line">    items = newItems;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li>
<li><p>The above way is quite slow when one adds a large quantity of
items into the array, because there is so many resizing during the
process</p></li>
<li><p>A faster way is called the multiplicative resizing:
<code>items.length * multiplicative factor</code></p></li>
</ol>
<p>3 Load factor/usage ratio</p>
<ul>
<li>Definition: <code>LF = size / items.length</code></li>
<li>If <span class="math inline">\(LF &lt; 0.25\)</span>, then there is
so much space unused in the array, so we resize downwards the array by
<code>items.length =&gt; items.length / 2</code></li>
</ul>
<p>4 Genetic arrays:</p>
<ol type="1">
<li><p>Add a type generic to the AList so it can hold items other than
integers</p></li>
<li><p>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  This is correct</span></span><br><span class="line">Type[] items = (Type[]) <span class="keyword">new</span> Object[capacity];</span><br><span class="line"></span><br><span class="line"><span class="comment">//  This is wrong</span></span><br><span class="line">Type[] items = <span class="keyword">new</span> Type[capacity];</span><br></pre></td></tr></table></figure></p></li>
<li><p>One is not allowed to create generic type arrays in Java, one
needs to use the typecast, otherwise a generic array creation error is
caused</p></li>
</ol>
<h1 id="lab-03">Lab 03</h1>
<p>1 Unit Testing:</p>
<ol type="1">
<li>Test each method in your code, and ultimately ensure that you have a
working program</li>
<li>Unit: break down the program into smallest part to enforce good code
structure, each method should do only one thing</li>
<li>JUnit: a unit testing framework for Java</li>
</ol>
<p>2 Add JUnit to your program:</p>
<ol type="1">
<li>Java program: <code>import org.junit.Test</code>,
<code>import static org.junit.Assert.*</code></li>
<li>Maven program: <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span>     <span class="comment">&lt;!-- Enter a compatible junit version number here --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>For compatible versions, search
<a target="_blank" rel="noopener" href="https://search.maven.org/">search.maven.org</a></p>
<p>3 JUnit Syntax:</p>
<ol type="1">
<li><p>Syntax: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassTest</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> methodTest &#123;</span><br><span class="line">        assertEquals(ExpectedValue, MethodCalculation);</span><br><span class="line">        assertNull(MethodCalculation);   <span class="comment">// This one equals to assertEquals(null, MethodCalculation);</span></span><br><span class="line">        assertTrue(MethodCalculation);</span><br><span class="line">        assertFalse(MethodCalculation);</span><br><span class="line">        assertNotEquals(ExpectedValue, MethodCalculation);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li>
<li><p>Use annotation <code>@Test</code> and non-static method
only</p></li>
</ol>
<p>4 Reverse a linked list:</p>
<ol type="1">
<li><p>Recursion: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(LinkedNode first)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (first == <span class="keyword">null</span> || first.next == <span class="keyword">null</span>) &#123;                 <span class="comment">// Situation where the list is an empty linked list or there is only one item in the list</span></span><br><span class="line">            <span class="keyword">return</span> first;                                </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            LinkedNode re = Test.reverse(first.next);              <span class="comment">// re is the reversed linked list,</span></span><br><span class="line">            first.next.next = first;                               <span class="comment">// Let the second item in the linked list points to first</span></span><br><span class="line">            first.next = <span class="keyword">null</span>;                                     <span class="comment">// Let first points to null</span></span><br><span class="line">            <span class="keyword">return</span> re;                                             <span class="comment">// Return the whole reversed linked list</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* An example</span></span><br><span class="line"><span class="comment">LinkedList(1,2,3,4) =&gt;  1 -&gt; 2 -&gt; 3 -&gt; 4 -&gt; null</span></span><br><span class="line"><span class="comment">first = 1, re = LinkedList(4,3,2) =&gt; 4 -&gt; 3 -&gt; 2 -&gt; null</span></span><br><span class="line"><span class="comment">first.next = 2, so the first.next.next = first turns re into 4 -&gt; 3 -&gt; 2 -&gt; 1</span></span><br><span class="line"><span class="comment">first.next = null turns re into 4 -&gt; 3 -&gt; 2 -&gt; 1 -&gt; null, then done</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p></li>
<li><p>Iteration: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(LinkedNode first)</span> </span>&#123;</span><br><span class="line">        LinkedNode re = <span class="keyword">null</span>;                                      <span class="comment">// This is the reversed linked list</span></span><br><span class="line">        LinkedNode cur = first;                                    <span class="comment">// This is the first node in the unreversed part of the original list</span></span><br><span class="line">        <span class="keyword">while</span> (cur != <span class="keyword">null</span>) &#123;</span><br><span class="line">            LinkedNode temp = cur.next;                            <span class="comment">// Save the next node of the current node</span></span><br><span class="line">            cur.next = re;                                         <span class="comment">// current node points to first node in the reversed linked list</span></span><br><span class="line">            re = cur;                                              <span class="comment">// Modify the linked list to the current node is the first node in it</span></span><br><span class="line">            cur = temp;                                            <span class="comment">// Next node in the unreversed part of the original list</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> re;                                                 <span class="comment">// Return the whole reversed linked list</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li>
</ol>
<p>5 int and Integer:</p>
<ol type="1">
<li>If two <code>int</code> variables have the same value, then they are
equal</li>
<li>If two <code>Integer</code> variables have the same value, then they
may be not equal: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = val;</span><br><span class="line">Integer val1 = Integer.valueOf(a);</span><br><span class="line">Integer val2 = Integer.valueOf(a);</span><br><span class="line"></span><br><span class="line">val1 == val2; </span><br></pre></td></tr></table></figure></li>
</ol>
<p>If <span class="math inline">\(0 \leq val \leq 127\)</span>, then
<code>true</code>, else if <span class="math inline">\(128 \leq
val\)</span>, then <code>false</code>. This is related to wrapper class
and java constant pool.</p>
<h1 id="project-01a">Project 01A</h1>
<p>1 Dequeue: double ended queue, one can insert and delete from both
sides</p>
<p>2 LinkedList implementation:</p>
<pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedListDeque</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> TNode sentinel;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LinkedListDeque</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        sentinel = <span class="keyword">new</span> TNode((T) Integer.valueOf(<span class="number">1</span>), <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">        sentinel.next = sentinel;</span><br><span class="line">        sentinel.prev = sentinel;</span><br><span class="line">        size = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(T item)</span> </span>&#123;</span><br><span class="line">        TNode temp = sentinel.next;</span><br><span class="line">        TNode newNode = <span class="keyword">new</span> TNode(item, temp, sentinel);</span><br><span class="line">        sentinel.next = newNode;</span><br><span class="line">        temp.prev = newNode;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(T item)</span> </span>&#123;</span><br><span class="line">        TNode temp = sentinel.prev;</span><br><span class="line">        TNode newNode = <span class="keyword">new</span> TNode(item, sentinel, temp);</span><br><span class="line">        sentinel.prev = newNode;</span><br><span class="line">        temp.next = newNode;</span><br><span class="line">        size += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printDeque</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        TNode cur = sentinel;</span><br><span class="line">        <span class="keyword">while</span> (cur.next != sentinel) &#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">            System.out.print(cur.item + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">removeFirst</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        TNode temp = sentinel.next;</span><br><span class="line">        sentinel.next = temp.next;</span><br><span class="line">        temp.next.prev = sentinel;</span><br><span class="line">        size -= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> temp.item;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        TNode temp = sentinel.prev;</span><br><span class="line">        sentinel.prev = temp.prev;</span><br><span class="line">        temp.prev.next = sentinel;</span><br><span class="line">        size -= <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> temp.item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        TNode cur = sentinel;</span><br><span class="line">        <span class="keyword">while</span> (cur.next != sentinel) &#123;</span><br><span class="line">            cur = cur.next;</span><br><span class="line">            <span class="keyword">if</span> (count == index) &#123;</span><br><span class="line">                <span class="keyword">return</span> cur.item;</span><br><span class="line">            &#125;</span><br><span class="line">            count += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> T <span class="title">getHelper</span><span class="params">(<span class="keyword">int</span> index, TNode cur, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index == count) &#123;</span><br><span class="line">            <span class="keyword">return</span> cur.item;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> getHelper(index, cur.next, count + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getRecursive</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getHelper(index, sentinel.next, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">TNode</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> T item;</span><br><span class="line">        <span class="keyword">public</span> TNode next;</span><br><span class="line">        <span class="keyword">public</span> TNode prev;</span><br><span class="line">    </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TNode</span><span class="params">(T item, TNode next, TNode prev)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.item = item;</span><br><span class="line">            <span class="keyword">this</span>.next = next;</span><br><span class="line">            <span class="keyword">this</span>.prev = prev;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre>
<p>3 Array implementation:</p>
<pre><code><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayDeque</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T[] items;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> initialCapacity = <span class="number">8</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> usageFactor = <span class="number">0.25</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> front;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> rear;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ArrayDeque</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        items = (T[]) <span class="keyword">new</span> Object[initialCapacity];</span><br><span class="line">        front = -<span class="number">1</span>;</span><br><span class="line">        rear = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Two conditions to calculate the dequeue size:</span></span><br><span class="line"><span class="comment">        If front &lt; rear: then size = rear - front + 1</span></span><br><span class="line"><span class="comment">        If front &gt; rear: then size = rear - front + 1 + n</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">if</span> (front &lt; <span class="number">0</span> || rear &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (rear + <span class="number">1</span> - front + items.length) % items.length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isFull</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Two conditions for a dequeue implemented in circular array to be full:</span></span><br><span class="line"><span class="comment">        If front &lt; rear: then front == 0 &amp;&amp; rear == items.length -1</span></span><br><span class="line"><span class="comment">        If front &gt; rear: then front - rear == 1</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">return</span> (rear + <span class="number">1</span>) % items.length == front;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> front == -<span class="number">1</span> &amp;&amp; rear == -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">expandLength</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> temp = items.length;</span><br><span class="line">        T[] newItems = (T[]) <span class="keyword">new</span> Object[items.length * <span class="number">2</span>];</span><br><span class="line">        System.arraycopy(items, <span class="number">0</span>, newItems, <span class="number">0</span>, items.length);</span><br><span class="line">        items = newItems;</span><br><span class="line">        front = <span class="number">0</span>;</span><br><span class="line">        rear = temp - <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reduceLength</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        T[] newItems = (T[]) <span class="keyword">new</span> Object[items.length / <span class="number">2</span>];</span><br><span class="line">        <span class="keyword">int</span> temp = size();</span><br><span class="line">        <span class="keyword">if</span> (front &lt; rear) &#123;</span><br><span class="line">            System.arraycopy(items, front, newItems, <span class="number">0</span>, size());</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (front &gt; rear) &#123;</span><br><span class="line">            System.arraycopy(items, front, newItems, <span class="number">0</span>, items.length - front);</span><br><span class="line">            System.arraycopy(items, <span class="number">0</span>, newItems, items.length - front, rear + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        items = newItems;</span><br><span class="line">        front = <span class="number">0</span>;</span><br><span class="line">        rear = temp - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(T item)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isFull()) &#123;</span><br><span class="line">            expandLength();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (front &lt; <span class="number">0</span>) &#123;                               <span class="comment">// Empty dequeue</span></span><br><span class="line">            front = <span class="number">0</span>;</span><br><span class="line">            rear = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (front == <span class="number">0</span>) &#123;                       <span class="comment">// Front is at index 0</span></span><br><span class="line">            front = items.length - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;                                       <span class="comment">// Other situations</span></span><br><span class="line">            front -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[front] = item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(T item)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isFull()) &#123;</span><br><span class="line">            expandLength();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (rear &lt; <span class="number">0</span>) &#123;                               <span class="comment">// Empty dequeue</span></span><br><span class="line">            front = <span class="number">0</span>;</span><br><span class="line">            rear = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rear == items.length - <span class="number">1</span>) &#123;        <span class="comment">// Rear is at index items.length - 1</span></span><br><span class="line">            rear = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;                                      <span class="comment">// Other situations</span></span><br><span class="line">            rear += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        items[rear] = item;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">removeFirst</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (items.length &gt;= <span class="number">16</span> &amp;&amp; size() * <span class="number">1.0</span> / items.length &lt; usageFactor) &#123;</span><br><span class="line">            reduceLength();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (front &lt; <span class="number">0</span>) &#123;                              <span class="comment">// Empty dequeue</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (front == rear) &#123;                   <span class="comment">// Only one item in the dequeue</span></span><br><span class="line">            T temp = items[front];</span><br><span class="line">            items[front] = <span class="keyword">null</span>;</span><br><span class="line">            front = -<span class="number">1</span>;</span><br><span class="line">            rear = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (front == items.length - <span class="number">1</span>) &#123;       <span class="comment">// Front is at index items.length - 1</span></span><br><span class="line">            T temp = items[front];</span><br><span class="line">            items[front] = <span class="keyword">null</span>;</span><br><span class="line">            front = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;                                     <span class="comment">// Other situations</span></span><br><span class="line">            T temp = items[front];</span><br><span class="line">            items[front] = <span class="keyword">null</span>;</span><br><span class="line">            front += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (items.length &gt;= <span class="number">16</span> &amp;&amp; size() * <span class="number">1.0</span> / items.length &lt; usageFactor) &#123;</span><br><span class="line">            reduceLength();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (rear &lt; <span class="number">0</span>) &#123;                              <span class="comment">// Empty list</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rear == front) &#123;                  <span class="comment">// Only one item in the dequeue</span></span><br><span class="line">            T temp = items[rear];</span><br><span class="line">            items[rear] = <span class="keyword">null</span>;</span><br><span class="line">            rear = -<span class="number">1</span>;</span><br><span class="line">            front = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rear == <span class="number">0</span>) &#123;                     <span class="comment">// Rear at index 0</span></span><br><span class="line">            T temp = items[rear];</span><br><span class="line">            items[rear] = <span class="keyword">null</span>;</span><br><span class="line">            rear = items.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;                                    <span class="comment">// Other situations</span></span><br><span class="line">            T temp = items[rear];</span><br><span class="line">            items[rear] = <span class="keyword">null</span>;</span><br><span class="line">            rear -= <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printDeque</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (front &lt; rear) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = front; i &lt; rear + <span class="number">1</span>; i++) &#123;</span><br><span class="line">                System.out.print(items[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (front &gt; rear) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = front; i &lt; items.length; i++) &#123;</span><br><span class="line">                System.out.print(items[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= rear; i++) &#123;</span><br><span class="line">                System.out.print(items[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.print(items[front] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (isEmpty() || index &lt; <span class="number">0</span> || index &gt; size() - <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        Two conditions for the index:</span></span><br><span class="line"><span class="comment">        If front &lt; rear: then front = 0 and index starts from 0, the index can be used directly</span></span><br><span class="line"><span class="comment">        If front &gt; rear: then we want index 0 to be items[front], let index = (front + index) % items.length</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        index = (front + index) % items.length;</span><br><span class="line">        <span class="keyword">return</span> items[index];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre>
<h1 id="lecture-07-20180131">Lecture 07 2018/01/31</h1>
<p>1 Testing and Selection Sort</p>
<ol type="1">
<li>Testing
<ul>
<li>In the real world, programmers believe their code works because of
tests they write themselves</li>
<li>Ad Hoc Testing v.s. Junit
<ul>
<li>Ah Hoc Testing:
<ul>
<li>Write test yourself, but test code can have bugs</li>
<li>Java implementation demo: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (Arrays.equals(input, expected)) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Oooops! There occurs a problem!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul></li>
<li>Junit testing:
<ul>
<li>Remove tedious code, and leave no room for errors in manually
written testing code</li>
<li>Java demo: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">org.junit.Assert.assertEquals(expected, input);</span><br><span class="line">org.junit.Assert.assertArrayEquals(expected, input);</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul></li>
<li>Selection sort
<ul>
<li>Selection sorting a list of N items:
<ul>
<li>Find the smallest item</li>
<li>Move it to the front</li>
<li>Selection sort the remaining items without touching front item</li>
</ul></li>
<li>Java implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SelectionSort</span> </span>&#123;</span><br><span class="line">    <span class="comment">// find the smallest item </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findSmallestIndex</span><span class="params">(String[] items, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> smallestIndex = start;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = smallestIndex; i &lt; items.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (items[i].compareTo(items[smallestIndex]) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                smallestIndex = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> smallestIndex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// move it to the front</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(String[] items, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        String item = items[a];</span><br><span class="line">        items[a] = items[b];</span><br><span class="line">        items[b] = item;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// selection sort the remaining items</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] items, <span class="keyword">int</span> start)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">if</span> (start == items.length) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> smallestIndex = findSmallest(items, start);</span><br><span class="line">        swap(items, start, smallestIndex);</span><br><span class="line">        sort(items, start + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] items)</span> </span>&#123; </span><br><span class="line">        sort(items, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;               </span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Simpler JUnit
<ul>
<li>Test annotation:
<ul>
<li>Precede each method with <code>@org.junit.Test</code></li>
<li>Change each test method to be non-static</li>
<li>Remove main method with static methods</li>
</ul></li>
<li>Advantages:
<ul>
<li>No need to manually invoke tests</li>
<li>All tests are run, not just the ones we specify</li>
<li>If one test fails, the others still run</li>
<li>A count of how many tests were run and how many passed is
provided</li>
<li>The error messages on a test failure are much nicer looking</li>
<li>If all tests pass, we get a nice message and a green bar appears,
rather than simply getting no output</li>
</ul></li>
</ul></li>
<li>Testing Philosophy
<ul>
<li>Correctness Tool #1: Autograder</li>
<li>Correctness Tool #2: JUnit Tests</li>
<li>Test-Driven Development (TDD):
<ul>
<li>Steps:
<ol type="1">
<li>Identify a new feature<br>
</li>
<li>Wriate a unit test for that feature</li>
<li>Run the test. It should fail</li>
<li>Write code that passes the test</li>
<li>Optional: refactor code to make it faster, cleaner, etc</li>
</ol></li>
</ul></li>
<li>Correctness Tool #3: Integration Testing</li>
</ul></li>
</ol>
<h1 id="lecture-08-20180202">Lecture 08 2018/02/02</h1>
<p>1 Interfaces</p>
<ol type="1">
<li>Method overloading
<ul>
<li>Definition: multiple methods with same name, but different
parameters/signatures</li>
<li>Downsides of method overloading:
<ul>
<li>It's super repetitive and ugly, because you now have two virtually
identical blocks of code</li>
<li>It's more code to maintain, meaning if you want to make a small
change to the longest method such as correcting a bug, you need to
change it in the method for each type of list</li>
<li>If we want to make more list types, we would have to copy the method
for every new list class</li>
</ul></li>
</ul></li>
<li>Hypernym, Hyponym, and Interface Inheritance
<ul>
<li>Hypernym and hyponym comprise a hierarchy</li>
<li>Is-a relationship: an instance from hyponym is an instance from
hypernym</li>
<li>Interface: it specifies what a bunch of objects must be able to do,
but it doesn't provide any implementation for those behaviors</li>
<li>A class implements an interface, a class extends a class, an
interface extends an interface</li>
</ul></li>
<li>Overriding
<ul>
<li>If a subclass has amethod with the exact same signature as in the
superclass, we say the subclass overrides the method</li>
<li>Methods with the same name but different signatures are
overloaded</li>
<li>Override annotation: <code>@override</code> before the method
signature
<ul>
<li>Even if you don't write override annotation, subclass still
overrides the method</li>
<li>Override annotation is an optional reminder that you're
overriding</li>
<li>Override annotation protects against typos</li>
</ul></li>
</ul></li>
<li>Interface Inheritance
<ul>
<li>The usage of the implements keyword is sometimes referred to as
interface inheritance</li>
<li>Polymorphism <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        A instance = <span class="keyword">new</span> B();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Implementation Inheritance
<ul>
<li>By default, subclass inherits signatures, but not
implementation</li>
<li>For better or worse, java allows implementation inheritance, where
subclasses can inherit signatures and implementation</li>
<li>Use default keyword to specify a method that subclasses should
inherit from an interface <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">done</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Done!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>You can use override annotation and override the default method in
an interface</li>
<li>Static type v.s. dynamic type
<ul>
<li>Static type: compile-time type, this is the type specified at
declaration, it never changes<br>
</li>
<li>Dynamic type: run-time type, this is the type specified at
instantiation(when using new), it equals to the type of the object being
pointed at</li>
<li>Dynamic method selection: if you call a method of an object using a
variable with compile-time type X and run-time type Y, and if Y
overrides the method, Y's method is then used instead</li>
<li>This does not work for overloaded methods, when java checks to see
which overloaded method to call, it checks the static type and calls the
method with the parameter of the same type <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// do sth</span></span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(B item)</span> </span>&#123;</span><br><span class="line">        System.out.println(item);</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(A item)</span> </span>&#123;</span><br><span class="line">        System.out.println(item);</span><br><span class="line">    &#125;</span><br><span class="line">    A itemA = <span class="keyword">new</span> A();</span><br><span class="line">    B itemB = itemA;</span><br><span class="line">    print(itemA); <span class="comment">// this calls the print function with signature of item A</span></span><br><span class="line">    print(itemB); <span class="comment">// this calls the print function with signature of item B</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-09-20180205">Lecture 09 2018/02/05</h1>
<p>1 Extends</p>
<ol type="1">
<li>Extends keyword
<ul>
<li>If you want one class to be nyponym of another class, you use
<code>extends</code> keyword</li>
<li>Subclasses inherit all members of the parent class, the members
include:
<ul>
<li>All instance and static variables</li>
<li>All methods</li>
<li>All nested classes</li>
</ul></li>
<li>Constructors are not inherited, and private members cannot be
directly accessed by subclasses</li>
<li>You can use <code>super</code> keyword to call methods defined in
the super class</li>
</ul></li>
<li>Constructors are not inherited
<ul>
<li>Java requires that all constructors must start with a call to one of
its superclass's constructors</li>
<li>Two ways to do this:
<ul>
<li>If you do provide a constructor, its first line should call
constructors in the superclass: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="comment">// do sth</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>If you do not explicitly provide a constructor, Java will
automatically make a call to the superclass's no-argument constructor
for us.</li>
<li>If you want to call constructor other than the non-argument one in
the superclass, explicitly call it with the correct signature
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String item;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.item = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">B</span><span class="params">(String item)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.item = item;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">            </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>;</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">A</span><span class="params">(String item)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(item);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul></li>
<li>The Object class
<ul>
<li>Every class in Java is a descendant of the Object class, or extends
the Object class. Even classes that do not have an explicit extends in
their class still implicitly extend the Object class</li>
</ul></li>
</ol>
<p>2 Encapsulation</p>
<ol type="1">
<li>Introduction
<ul>
<li>Encapsulation is one of the fundamental principles of object
oriented programming, and is one of the approaches that we use to deal
with complexity</li>
<li>Deal with complexity: *Hierarchical abstraction: create layers of
abstraction, with clear abstraction barriers</li>
<li>Design for change:
<ul>
<li>Organize program around objects</li>
<li>Let objects decide how things are done</li>
<li>Hide information others don't need</li>
</ul></li>
<li>Module:
<ul>
<li>Definition: a set of methods that work together as a whole to
perform a task or set of related tasks</li>
<li>A module is said to be encapsulated if its implementation is
completely hidden, and it can be accessed only through a documented
interface</li>
</ul></li>
</ul></li>
<li>Abstraction barriers
<ul>
<li>The private keyword builds the abstraction barriers</li>
</ul></li>
<li>Implementation inheritance breaks encapsulation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bark</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        barkMany(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;bark!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VerboseDog</span> <span class="keyword">extends</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">barkMany</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;As a dog, I say: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;bark!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        VerboseDog dog = <span class="keyword">new</span> VerboseDog();</span><br><span class="line">        <span class="comment">// the following method call results in infinite loop</span></span><br><span class="line">        dog.barkMany(<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>3 Type Checking and Casting</p>
<ol type="1">
<li>Dynamic method lookup
<ul>
<li>Both variables and expressions have static type and dynamic type
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// wrong</span></span><br><span class="line">Integer x = <span class="keyword">new</span> Double();</span><br><span class="line"><span class="comment">// correct</span></span><br><span class="line"><span class="function">Double x  new <span class="title">Integer</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure></li>
<li>Method calls have static type that equals to their declared type
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Double <span class="title">maxVal</span><span class="params">(Integer x, Integer y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &gt; y ? x : y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// wrong</span></span><br><span class="line">Integer x = maxVal(<span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line"><span class="comment">// correct</span></span><br><span class="line">Double x = maxVal(<span class="number">5</span>, <span class="number">6</span>);</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Casting
<ul>
<li>Casting is a powerful but dangerous tool. Essentially, casting is
telling the compiler not to do its type-checking duties</li>
<li>Demo: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Double <span class="title">maxVal</span><span class="params">(Integer x, Integer y)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &gt; y ? x : y</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line">Integer x = (Integer) maxVal(<span class="number">5</span>, <span class="number">6</span>);</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<p>4 Higher Order Functions</p>
<ol type="1">
<li>Introduction
<ul>
<li>Definition: A higher order function is a function that treats other
functions as data</li>
<li>Python demo: <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tenX</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">10</span> * x</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">doTwice</span>(<span class="params">f, x</span>):</span></span><br><span class="line">    <span class="keyword">return</span> f(f(x))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    print(doTwice(tenX, <span class="number">10</span>))</span><br></pre></td></tr></table></figure></li>
<li>Java demo: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IntFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">apply</span><span class="params">(<span class="keyword">int</span> x)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TenX</span> <span class="keyword">implements</span> <span class="title">IntFunction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">apply</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span> * x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">doTwice</span><span class="params">(IntFunction f, <span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> f.apply(f.apply(x));</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        TenX tenX = <span class="keyword">new</span> TenX();</span><br><span class="line">        System.out.println(doTwice(tenX, <span class="number">10</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<h1 id="lecture-10-20180207">Lecture 10 2018/02/07</h1>
<p>1 Subtype Polymorphism</p>
<ol type="1">
<li>Introduction
<ul>
<li>Polymorphism: provide a single interface to entities of different
types</li>
<li>Build an interface an implements to interface to compare
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">OurComparable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object that)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OurClass</span> <span class="keyword">implements</span> <span class="title">OurComparable</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object that)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (that == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Null input!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// casting can be dangerous: OurClass that = (OurClass) that;</span></span><br><span class="line">        <span class="keyword">if</span> (!(that <span class="keyword">instanceof</span> OurClass)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Input type error!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.field.compareTo(that.field) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.field.compareTo(that.field) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 2 Comparable</li>
</ul></li>
<li>The interface
<ul>
<li>Java implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(T obj)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Usage: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OurClass</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">OurClass</span>&gt; </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(OurClass that)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.field.compareTo(that.field) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.field.compareTo(that.field) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 3 Comparator</li>
</ul></li>
<li>Introduction
<ul>
<li>Natural order: used to refer to the ordering implied in the
compareTo method of a particular class</li>
<li>If you want to use an order that is different from the natural
order, you should implement the Comparator interface</li>
</ul></li>
<li>The interface
<ul>
<li>Java implementation: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Comparator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">compare</span><span class="params">(T o1, T o2)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Usage: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OurClass</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">OurComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">OurClass</span>&gt; </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(OurClass a, OurClass b)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (a == <span class="keyword">null</span> || b == <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Null input!&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (a.field.compareTo(b.field) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (a.field.compareTo(b.field) == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Comparator&lt;OurClass&gt; <span class="title">getComparator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> OurComparator();</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        OurClass a = <span class="keyword">new</span> OurClass();</span><br><span class="line">        OurClass b = <span class="keyword">new</span> OurClass();</span><br><span class="line">        Comparator&lt;OurClass&gt; comparator = OurClass.getComparator();</span><br><span class="line">        System.out.println(comparator.compare(a, b));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<h1 id="lecture-11-20180209">Lecture 11 2018/02/09</h1>
<p>1 Abstract Data Types(ADTS)</p>
<ol type="1">
<li>Interface inheritance for comparison
<ul>
<li>Specify a contract for common behaviro shared by mant data
structures</li>
<li>Provide a way to containerize common functions</li>
</ul></li>
<li>ADT
<ul>
<li>An ADT is defined only by its operations, not by its
implementation</li>
<li>The Stack ADT:
<ul>
<li><code>push(T x)</code></li>
<li><code>T pop()</code></li>
</ul></li>
<li>The GrabBag ADT:
<ul>
<li><code>insert(T x)</code></li>
<li><code>T remove()</code>: random remove</li>
<li><code>T sample()</code>: random sample</li>
<li><code>int size()</code></li>
</ul></li>
</ul></li>
</ol>
<p>2 Java Libraries</p>
<ol type="1">
<li>ADTs in the java.util library:
<ul>
<li>List: an orderded collection of items, a popular implementation is
the ArrayList</li>
<li>Set: an unordered collection of strictly unique items(no repeats), a
popular implementation is the HashSet</li>
<li>Map: a collectoin of key/value pairs, you can access th value via
the key, a popular implementation is the HashMap</li>
<li>Inheritance hierarchy: <img src="/images/CS61B/Collection.png"></li>
<li>Example: getwords into a list <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;String&gt; words = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        In in = <span class="keyword">new</span> In(<span class="string">&quot;file.type&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (!in.isEmpty()) &#123;</span><br><span class="line">            String word = in.readString();</span><br><span class="line">            words.add(word);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Example: count unique words in the list <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Set&lt;String&gt; wordSet = <span class="keyword">new</span> HashSet&lt;String&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words.size(); i++) &#123;</span><br><span class="line">            String word = words.get(i);</span><br><span class="line">            wordSet.add(word);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(wordSet.size());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Example: given List<String> targets and List<String> words, find the
freqency of targets in the words <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Integer&gt; wordMap = <span class="keyword">new</span> HashMap&lt;String, Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String target: targets) &#123;</span><br><span class="line">            wordMap.put(target, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (String word: words) &#123;</span><br><span class="line">            <span class="keyword">if</span> (wordMap.containsKey(word)) &#123;</span><br><span class="line">                wordMap.put(word, wordMap.get(word) + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure> 3 Abstract Classes</String></String></li>
</ul></li>
<li>Interfaces
<ul>
<li>Cannot be instantiated</li>
<li>Can provide either abstract or concrete methods
<ul>
<li>Use no keyword for abstract methods</li>
<li>Use default keyword for concrete methods</li>
</ul></li>
<li>Can provide only public static final variables</li>
<li>Can provide only public methods</li>
</ul></li>
<li>Abstract Classes
<ul>
<li>Cannot be instantiated</li>
<li>Can provide either abstract or concrete methods
<ul>
<li>Use abstract for abstract methods</li>
<li>Use no keyword for concrete methods<br>
</li>
</ul></li>
<li>Can provide any kind variables</li>
<li>Can provide any kind methods</li>
</ul></li>
<li>Comparisons
<ul>
<li>Interfaces:
<ul>
<li>Primiarily for interface inheritance, limited implementation
inheritance</li>
<li>Classes can implement multiple interfaces</li>
</ul></li>
<li>Abstract classes
<ul>
<li>Can do anything an interface can do, and more</li>
<li>Subclasses only extend one abstract classes</li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-12-20180214">Lecture 12 2018/02/14</h1>
<p>1 Automatic Conversions</p>
<ol type="1">
<li>The syntax lectures
<ul>
<li>Syntax 1: Autoboxing, promotion, immutability, generics</li>
<li>Syntax 2: Exceptions, access control</li>
<li>Syntax 3: Iterables/iterators, equals, other loose ends</li>
<li>Syntax 4: Wildcards, type upper bounds, covariance</li>
</ul></li>
<li>Generics
<ul>
<li>Generic classes require use to provide one or more actual type
arguments</li>
<li>Generic classes only accecpt reference types, no primitive types are
allowed</li>
<li>Conversion: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Integer val = <span class="keyword">new</span> Integer(intVal);</span><br><span class="line"><span class="keyword">int</span> intVal = val.valueOf();</span><br></pre></td></tr></table></figure></li>
<li>Autoboxing/autounboxing: in Java 1.5, conversions between primitive
types and associated wrapper types are introduced</li>
<li>Autoboxing/autounboxing does not apply for arrays</li>
<li>Wrapper types use much more memory, and there is some performance
loss</li>
<li>Convert from String to primitive type
<code>int val = Integer.parseInt(string)</code></li>
</ul></li>
<li>Primitive Widening
<ul>
<li>If a program expects a primitive of type T2 and is given a variable
of type T1, and type T2 can take on a wider range of values than T1, the
the variable will be implicitly cast to type T2.</li>
</ul></li>
<li>Immutability
<ul>
<li>An immutable data type is one for which an instance cannot change in
any observable way after instantiation</li>
<li>Example: ArrayDeque is mutable. Integer, String are immutable</li>
<li>The final keyword will help the complier ensuer immutability:
<ul>
<li>The final variable means you will assign a value once</li>
<li>Not necessary to have final to be immutable(e.g. the private
variables in a class cannot be changed from outside unless reflection is
used)</li>
</ul></li>
<li>Advantage: less to think about, avoid bugs and makes debugging
easier</li>
<li>Disadvantage: must create a new objecct anytime anything
changes</li>
<li>Warning: declaring a reference as final does not make object
immutable <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> ArrayDeque&lt;String&gt; d = <span class="keyword">new</span> ArrayDeque&lt;String&gt;();</span><br><span class="line"><span class="comment">// this means d cannot point to another ArrayDeque, but the created ArrayDeque object can change</span></span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<h1 id="lecture-13-20180216">Lecture 13 2018/02/16</h1>
<p>1 Lists, Sets</p>
<ol type="1">
<li>Lists <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">list.add(<span class="number">5</span>);</span><br></pre></td></tr></table></figure> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls = []</span><br><span class="line">ls.append(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></li>
<li>Sets <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line">Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">set.add(<span class="string">&#x27;a&#x27;</span>);</span><br></pre></td></tr></table></figure> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">set</span>()</span><br><span class="line">s.add(<span class="string">&#x27;a&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<p>2 Exceptions</p>
<ol type="1">
<li>Throw Exceptions
<ul>
<li>Exceptions cause normal flow of control to stop. We can in fact
choose to throw our own exceptions</li>
<li>Java demo <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myFun</span><span class="params">(<span class="keyword">int</span> arg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arg == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Null input!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(arg + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Python demo <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myFun</span>(<span class="params">arg: <span class="built_in">int</span></span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(arg + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">except</span> ValueError:</span><br><span class="line">        print(<span class="string">&quot;Null input!&quot;</span>)</span><br><span class="line">        </span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<p>3 Iteration</p>
<ol type="1">
<li>Enhanced for loop
<ul>
<li>Demo <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure></li>
<li>In order to support for-each loop, a class should implement iterable
interface and have an iterator method <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Iterable</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;T&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyIterator();</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Iterator</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="comment">// do sth;</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> T <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="comment">// do sth;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<h1 id="lecture-14-20180221">Lecture 14 2018/02/21</h1>
<p>1 Packages and Jar Files</p>
<ol type="1">
<li>Package Introduction:
<ul>
<li>A package is a namespace that organizes classes and interfaces</li>
<li>Naming convertion: Package name starts with website address</li>
<li>If used from outside, use the entire canonical name, if used from
another class in the same package, you can just use the simple name</li>
</ul></li>
<li>Create a Package:
<ul>
<li>Two steps:
<ul>
<li>At the top of every file in the package, put the package name</li>
<li>Make sure that the file is stored in a folder with the appropriate
folder name</li>
</ul></li>
<li>Example: the <code>Dog.java</code> in folder
<code>ug/joshh/animal</code> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ug.joshh.animal;</span><br><span class="line">        </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="comment">// do sth;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Use Packages:
<ul>
<li>Use canonical name: to use a class from package A in a class from
package B, you can use the canonical name <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> ug.joshh.animal.Dog dog = <span class="keyword">new</span> us.joshh.animal.Dog();</span><br></pre></td></tr></table></figure></li>
<li>Use import statement <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> us.joshh.animal.Dog;</span><br><span class="line">Dog dog = <span class="keyword">new</span> Dog();</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>The Default Package
<ul>
<li>Any java class without a package name at the top are part of the
"default" package</li>
<li>Generally, you should not use the default package except for tiny
small programs</li>
<li>You cannot import code from the default package</li>
</ul></li>
<li>JAR files
<ul>
<li>.jar file contains all of the .class files needed for your
program</li>
<li>Create a .jar file use IntelliJ:
<ul>
<li>Go to File -&gt; Project Structure -&gt; Artifacts -&gt; JAR -&gt;
From modules with dependencies</li>
<li>Click OK a couple of times</li>
<li>Click Build -&gt; Build Artifacts(this will create a JAR file in a
folder called "Artifacts")</li>
<li>Distribute the JAR file to other programmers, who can now import it
into IntelliJ</li>
</ul></li>
<li>JAR files are just zip files, they are easy to unzip and transform
back into .java files</li>
</ul></li>
</ol>
<p>2 Access Control</p>
<ol type="1">
<li><p>Access Control with Inheritance and Packages</p>
<table style="width:100%;">
<colgroup>
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr>
<th style="text-align: center;">Modifier</th>
<th style="text-align: center;">Class</th>
<th style="text-align: center;">Package</th>
<th style="text-align: center;">Subclass</th>
<th style="text-align: center;">World</th>
<th style="text-align: center;">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">public</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">accessible everywhere</td>
</tr>
<tr>
<td style="text-align: center;">protected</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">protected from outside world</td>
</tr>
<tr>
<td style="text-align: center;">default/No modifier</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">package-private</td>
</tr>
<tr>
<td style="text-align: center;">private</td>
<td style="text-align: center;">Yes</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">private from everything else</td>
</tr>
</tbody>
</table></li>
<li><p>The default package example</p>
<p>For the default package, because no modifier is provided on package
information, everything is package-private, thus code in the default
package cannot be accessed from user-defined package</p></li>
<li><p>Some Notes</p>
<ul>
<li>For interface, even if a method is unmodified, it is still public
rather than package-private</li>
<li>Access is based only on static types</li>
</ul></li>
</ol>
<h1 id="lecture-15-20180223">Lecture 15 2018/02/23</h1>
<p>1 Efficient Programming</p>
<ol type="1">
<li>Two costs of efficienty
<ul>
<li>Programming cost
<ul>
<li>How long does it take to develop your program</li>
<li>How easy is it to read, modify, and maintain your code</li>
</ul></li>
<li>Execution cost
<ul>
<li>How much time does your program take to execute</li>
<li>How much memory does your program require</li>
</ul></li>
</ul></li>
<li>Encapsulation
<ul>
<li>Module: A set of methods that work together as a whole to perform
some task or set of related tasks</li>
<li>Encapsulated: A module is said to be encapsulated if its
implementation is completely hidden, and it can be accessed only through
a documented interface</li>
</ul></li>
<li>API
<ul>
<li>Definition: an API(Application Programming Interface) of an ADT is
the list of constructors and methods and a short description of
each</li>
<li>API consists of syntactic and semantic specification
<ul>
<li>Compiler verifies that syntax is met</li>
<li>Tests help verify that semantics are correct</li>
</ul></li>
</ul></li>
<li>ADT
<ul>
<li>Definition: ADT's (Abstract Data Structures) are high-level types
that are defined by their behaviors, not their implementations.</li>
</ul></li>
</ol>
<h1 id="lecture-16-20180226">Lecture 16 2018/02/26</h1>
<p>1 Asymptotics I: An Introduction to Asymptotic Analysis</p>
<ol type="1">
<li>Runtime Characterization
<ul>
<li>Characterization should be simple and mathematically rigorous</li>
<li>Characterization should clearly demonstrate the superiority of
different programs</li>
<li>Technique 1: measure execution time in seconds using a client
program
<ul>
<li>Good: easy to measure, meaning is obvious</li>
<li>Bad: may require large amounts of computation time, result varies
with machine, complier, input data, etc</li>
</ul></li>
<li>Technique 2: count possible operations for an array of size N
<ul>
<li>Good: machine independent, input dependence captured in model</li>
</ul></li>
</ul></li>
<li>Asymptotic Behavior
<ul>
<li>In most cases, we only care about asymptotic behavior, i.e. what
happens for very large N</li>
<li>Simplication 1: consider only the worst case when comparing
algorithms</li>
<li>Simplication 2: pick some representative operation(the one with
largest orders) to act as a proxy for the overall runtime, this is
called cost model</li>
<li>Simplication 3: ignore lower order terms</li>
<li>Simplication 4: ignore multiplicative constants</li>
</ul></li>
<li>Formalize Order of Growth
<ul>
<li>Big-Theta Notation
<ul>
<li>Used to describe the order of growth of a function</li>
<li>Also used to describe the rate of growth of the runtime of a piece
of code</li>
<li>Big-Theta can be thought of something like "equals"</li>
<li><span class="math inline">\(R(N) \in \Theta (f(N))\)</span> iff
<span class="math inline">\(\exists \; k_{1} \; k_{2}\)</span> such that
<span class="math inline">\(k_{1} f(N) \leq R(N) \leq k_{2}
f(N)\)</span></li>
</ul></li>
<li>Big-O Notation
<ul>
<li>Big-O can be though of something like "less than or equal"</li>
<li><span class="math inline">\(R(N) \in O(f(N))\)</span> iff <span class="math inline">\(\exists \; k_{2}\)</span> such that <span class="math inline">\(R(N) \leq k_{2} f(N)\)</span></li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-17-20180228">Lecture 17 2018/02/28</h1>
<p>1 Asymptotic Analysis II</p>
<ol type="1">
<li>An example <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This one is O(N)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printParty</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; = N; i = i * <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j += <span class="number">1</span>) &#123;</span><br><span class="line">            System.out.prinln(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Some math
<ul>
<li><span class="math inline">\(1 + 2 + 3 + ... + Q = Q * (Q + 1) / 2 =
\Theta(Q^{2})\)</span></li>
<li><span class="math inline">\(1 + 2 + 4 + ... + Q = 2 * Q - 1 =
\Theta(Q)\)</span></li>
</ul></li>
<li>Recursion
<ul>
<li>Example <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This one is O(2^N) </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">f3</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f3(n-<span class="number">1</span>) + f3(n-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Binary Search
<ul>
<li>Example <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The complexity of binary search is O(log_&#123;2&#125;N)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(String[] sorted, String x, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lo &gt; hi) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">m</span> <span class="params">(lo + hi)</span> / 2</span>;</span><br><span class="line">    <span class="keyword">int</span> cmp = x.compareTo(sorted[m]);</span><br><span class="line">    <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> binarySearch(sorted, x, lo, m - <span class="number">1</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> binarySearch(sorted, x, m + <span class="number">1</span>, hi);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> m;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">recursiveBinarySearch</span><span class="params">(String[] sorted, String x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lo = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> hi = sorted.length();</span><br><span class="line">    <span class="keyword">while</span> (low &lt; hi) &#123;</span><br><span class="line">        <span class="keyword">int</span> m = (lo + hi) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span> cmp = x.compareTo(sorted[m]);</span><br><span class="line">        <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            high = m - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            lo = m + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> m;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Merge Sort
<ul>
<li>Selection Sort
<ul>
<li>Recursive version: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SelectionSort</span> </span>&#123;</span><br><span class="line">    <span class="comment">// find the smallest item </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">findSmallestIndex</span><span class="params">(String[] items, <span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> smallestIndex = start;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = smallestIndex; i &lt; items.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (items[i].compareTo(items[smallestIndex]) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                smallestIndex = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> smallestIndex;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// move it to the front</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(String[] items, <span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">        String item = items[a];</span><br><span class="line">        items[a] = items[b];</span><br><span class="line">        items[b] = item;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// selection sort the remaining items</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] items, <span class="keyword">int</span> start)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">if</span> (start == items.length) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> smallestIndex = findSmallest(items, start);</span><br><span class="line">        swap(items, start, smallestIndex);</span><br><span class="line">        sort(items, start + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] items)</span> </span>&#123; </span><br><span class="line">        sort(items, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;               </span><br></pre></td></tr></table></figure></li>
<li>Iterative version: <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SelectionSort</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(String[] items)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; items.length; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> minIndex = i;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; items.length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (items[j].compareTo(items[minIndex]) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                    minIndex = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            String item = items[i];</span><br><span class="line">            items[i] = items[minIndex];</span><br><span class="line">            items[minIndex] = item;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Demo <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MergeSort</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Comparable[] aux;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] items)</span> </span>&#123;</span><br><span class="line">        aux = <span class="keyword">new</span> Comparable[items.length];     <span class="comment">// Do not create aux in the private recursive sorts</span></span><br><span class="line">        sort(items, <span class="number">0</span>, items.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(Comparable[] items, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (hi &lt;= lo) &#123;</span><br><span class="line">        <span class="keyword">return</span>;s</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> mid = lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">        sort(items, lo, mid);</span><br><span class="line">        sort(items, mid + <span class="number">1</span>, hi);</span><br><span class="line">        merge(items, lo, mid, hi);</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(Comparable[] items, <span class="keyword">int</span> lo, <span class="keyword">int</span> mid, <span class="keyword">int</span> hi)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// assert isSorted(items, lo, mid);</span></span><br><span class="line">        <span class="comment">// assert isSorted(items, mid + 1, hi);</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = lo; i &lt;= hi; i++) &#123;</span><br><span class="line">        aux[i] = items[i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> i = lo; j = mid + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = lo; k &lt;= hi; k++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &gt; mid) &#123;</span><br><span class="line">            items[k] = aux[j++];              <span class="comment">// items[lo...mid] has already been copied</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j &gt; hi) &#123;</span><br><span class="line">            items[k] = items[i++];              <span class="comment">// items[mid + 1...hi] has already been copied</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (aux[j].compareTo(aux[i]) &lt; <span class="number">0</span>) &#123;              </span><br><span class="line">            items[k] = aux[j++];                  <span class="comment">// For stability reason, we cannot revert this else if statement and the else statement</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            items[k] = aux[i++];</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// assert isSorted(items, lo, hi)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<h1 id="lecture-18-20180301">Lecture 18 2018/03/01</h1>
<ol type="1">
<li>Runtime Analysis Subtleties
<ul>
<li>When average case, best case and worst case are not in the same
order, you can simply use Big O notation instead of Big Theta
notation</li>
<li>Big Theta is more informative because it has more precision</li>
<li>Big Theta: "equal to", Big O: "less than or equal to", Big Omega:
"greater than or equal to"</li>
<li>Summary</li>
</ul></li>
</ol>
<p></p>
<p></p>
<table>
<colgroup>
<col style="width: 19%">
<col style="width: 37%">
<col style="width: 13%">
<col style="width: 29%">
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Information Meangin</strong></th>
<th><strong>Example Family</strong></th>
<th><strong>Example Family Members</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Big Theta: <span class="math inline">\(\Theta (f(M))\)</span></td>
<td>Order of growth is <span class="math inline">\(f(N)\)</span></td>
<td><span class="math inline">\(\Theta (n^2)\)</span></td>
<td><span class="math inline">\(\frac{N^2}{2},2N^2,N^2+38N+\frac{1}{N}\)</span></td>
</tr>
<tr>
<td>Big O: <span class="math inline">\(O(f(N))\)</span></td>
<td>Order of growth is less than or equal to <span class="math inline">\(f(N)\)</span></td>
<td><span class="math inline">\(O(n^2)\)</span></td>
<td><span class="math inline">\(\frac{N^2}{2},2N^2,logN\)</span></td>
</tr>
<tr>
<td>Big Omega: <span class="math inline">\(\Omega (f(N))\)</span></td>
<td>Order of growth is greater than or equal to <span class="math inline">\(f(N)\)</span></td>
<td><span class="math inline">\(\Omega(n^2)\)</span></td>
<td><span class="math inline">\(\frac{N^2}{2},2N^2,5^N\)</span></td>
</tr>
</tbody>
</table>
<ol start="2" type="1">
<li><p>Amortized Analysis</p>
<ul>
<li>Steps:
<ol type="1">
<li>Pick a cost model (like in regular runtime analysis)</li>
<li>Compute the average cost of the i'th operation</li>
<li>Show that this average (amortized) cost is bounded by a
constant</li>
</ol></li>
<li>Equation</li>
</ul>
<p>For each operation, let <span class="math inline">\(c_i\)</span> be
the true cost of the operation, let <span class="math inline">\(a_i\)</span> be some arbitrary amortized cost,
<span class="math inline">\(a_i\)</span> is a positive constant for
every operation.</p>
<p>Let <span class="math inline">\(\Phi_i\)</span> be the potential at
operation i, which is the cumulative difference between amortized and
true cost: <span class="math inline">\(\Phi_i = \Phi_{i-1} + a_i -
c_i\)</span>. If we can find an <span class="math inline">\(a_i\)</span>
such that <span class="math inline">\(\Phi_i \geq 0\)</span> for each i,
then we say the amortized cost is an upper bound on the true cost. And
if the true cost is upper bounded by a constant, then we've shown that
it is on average constant time.</p></li>
</ol>
<h1 id="lecture-19-20180305">Lecture 19 2018/03/05</h1>
<ol type="1">
<li>Dynamic connectivity
<ul>
<li>Disjoint Sets ADT <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">DisjointSets</span> </span>&#123;</span><br><span class="line">    <span class="comment">/** Connects two items P and Q */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span></span>;</span><br><span class="line">    <span class="comment">/** Checks to see if two items are connected. */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">isConnected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Implementation of disjoint sets
<ul>
<li><code>Map&lt;Integer, Set&gt;</code></li>
<li><code>int[]</code></li>
</ul></li>
<li>QuickFind implementation
<ul>
<li>Implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickFindDS</span> <span class="keyword">implements</span> <span class="title">DisjointSets</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] id;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">QuickFIndDS</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            id[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        idp = id[p];</span><br><span class="line">        idq = id[q];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (id[i] == idp) &#123;</span><br><span class="line">                id[i] = idq;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isConnected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id[p] == id[q];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Performance analysis:
<ul>
<li>Constructor: <span class="math inline">\(\Theta (N)\)</span></li>
<li>isConnected: <span class="math inline">\(\Theta (1)\)</span></li>
<li>connect: <span class="math inline">\(\Theta (N)\)</span></li>
</ul></li>
</ul></li>
<li>QuickUnion implementation
<ul>
<li>Implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickUnionDS</span> <span class="keyword">implements</span> <span class="title">DisjointSets</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] parent;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">QuickUnionDS</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (p != parent[p]) &#123;</span><br><span class="line">            p = parent[p];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        rootp = find(p);</span><br><span class="line">        rootq = find(q);</span><br><span class="line">        parent[rootp] = rootq;</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isConnected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Performance analysis:
<ul>
<li>Constructor: <span class="math inline">\(\Theta (N)\)</span></li>
<li>isConnected: <span class="math inline">\(O (N)\)</span></li>
<li>connect: <span class="math inline">\(O (N)\)</span></li>
</ul></li>
<li>Weighted QuickUnion
<ul>
<li>Track tree size(number of elements)</li>
<li>New rule: always link root of smaller tree to larger tree</li>
<li>Max depth of any item is <span class="math inline">\(logN\)</span></li>
<li>Implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeightedQuickUnionDS</span> <span class="keyword">implements</span> <span class="title">DisjointSets</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] parent;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] size;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WeightedQuickUnionDS</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        size = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">            size[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (p != parent[p]) &#123;</span><br><span class="line">            p = parent[p];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        rootp = find(p);</span><br><span class="line">        rootq = find(q);</span><br><span class="line">        <span class="keyword">if</span> (rootp == rootq) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (size[rootp] &lt; size[rootq]) &#123;</span><br><span class="line">            parent[rootp] = rootq;</span><br><span class="line">            size[rootq] += size[rootp];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            parent[rootq] = rootp;</span><br><span class="line">            size[rootp] += size[rootq];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isConnected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Performance
<ul>
<li>Constructor: <span class="math inline">\(\Theta (N)\)</span></li>
<li>isConnected: <span class="math inline">\(O(logN)\)</span></li>
<li>connect: <span class="math inline">\(O(logN)\)</span></li>
</ul></li>
</ul></li>
<li>Path compression: replace <code>parent[i]</code> with its foot for
each i
<ul>
<li>Implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeightedQuickUnionWithPathCompressionDS</span> <span class="keyword">implements</span> <span class="title">DisjointSets</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] parent;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] size;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WeightedQuickUnionWithPathCompressionDS</span><span class="params">(<span class="keyword">int</span> N)</span> </span>&#123;</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        size = <span class="keyword">new</span> <span class="keyword">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">            size[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (p == parent[p]) &#123;</span><br><span class="line">            <span class="keyword">return</span> p;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            parent[p] = find(parent[p]);</span><br><span class="line">            <span class="keyword">return</span> parent[p];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">connect</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        rootp = find(p);</span><br><span class="line">        rootq = find(q);</span><br><span class="line">        <span class="keyword">if</span> (rootp == rootq) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (size[rootp] &lt; size[rootq]) &#123;</span><br><span class="line">            parent[rootp] = rootq;</span><br><span class="line">            size[rootq] += size[rootp];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            parent[rootq] = rootp;</span><br><span class="line">            size[rootp] += size[rootq];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isConnected</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Performance analysis:
<ul>
<li>Constructor: <span class="math inline">\(\Theta (N)\)</span></li>
<li>isConnected: <span class="math inline">\(O(logN)\)</span></li>
<li>connect: <span class="math inline">\(O(logN)\)</span></li>
</ul></li>
</ul></li>
<li>Performance analysis(Runtime needed to perform M operations on a
DisjointSet object with N elements):
<ul>
<li>QuickFind: <span class="math inline">\(O(MN)\)</span></li>
<li>QuickUnion: <span class="math inline">\(O(MN)\)</span></li>
<li>WeightedQuickFind: <span class="math inline">\(O(N+MlogN)\)</span></li>
<li>WeightedQuickUnion: <span class="math inline">\(O(N+M \alpha
N)\)</span></li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-20-20180317">Lecture 20 2018/03/17</h1>
<ol type="1">
<li>Binary Search Trees
<ul>
<li>Definitions: A tree consists of a set of nodes and a set of edges
that connect those nodes. There is exactly one path between any two
nodes</li>
<li>Related terminologies: root, child, parent, leaf, binary tree(child
ranges from 0 to 2)</li>
<li>BST property: For each node X in the tree
<ul>
<li>Each key in the left subtree is less than X's key</li>
<li>Each key in the right subtree is greater than X's key</li>
<li>Orders must be complete, transitive and antisymmetric(no duplicative
keys are allowed)</li>
</ul></li>
<li>Search operations
<ul>
<li>Steps
<ul>
<li>If searchKey eauals label, return</li>
<li>If searchKey &lt; label, search left subtree</li>
<li>If searchKey &gt; label, search right subtree</li>
</ul></li>
<li>Pseudo code <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> BST <span class="title">find</span><span class="params">(BST T, Key searchKey)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (searchKey.compareTo(T.label) == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> T;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (searchKey.compareTo(T.label) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> find(T.left, searchKey);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> find(T.right, searchKey);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>For a BST with N nodes, the worst time for search is <span class="math inline">\(logN\)</span></li>
</ul></li>
<li>Insert operations
<ul>
<li>Steps
<ul>
<li>Search for key, if found, do nothing</li>
<li>If not found, create a new node and set an appropriate link</li>
</ul></li>
<li>Pseudo code <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> BST <span class="title">insert</span><span class="params">(BST T, Key insertKey)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BST(insertKey);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (insertKey.compareTo(T.label) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        T.left = insert(T.left, insertKey);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (insertKey.compareTo(T.label) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        T.right = insert(T.right, insertKey);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// this means insertKey.compareTo(T.label) == 0</span></span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Delete operations
<ul>
<li>Deletion key has no children: simplye remove the parent's link</li>
<li>Deletion key has one children: point parent's link to child</li>
<li>Deletion key has two children: replce key with predecessor(the
rightmost key in left subtree) or successor(the leftmost key in right
subtree), this is called Hibbard deletion</li>
<li>For insertion operations, the tree can be around height of , but
there is no way to maintain a satisfactory tree height for deletion
operations</li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-21-20180309">Lecture 21 2018/03/09</h1>
<ol type="1">
<li>Tree Rotation
<ul>
<li>BST can be too to to be inefficient</li>
<li>Tree rotation:
<ul>
<li>Can shorten a tree</li>
<li>Preserves BST property</li>
</ul></li>
<li>Rotation allows to balance each BST</li>
<li>Rotate after each insertion and deletion to maintain balance</li>
</ul></li>
<li>B-trees/2-3 trees/ 2-3-4 trees
<ul>
<li>Search trees
<ul>
<li>BST: requires rotations to maintain balance. Many strategies for
rotation(AVL, weight-balancing, red-black)</li>
<li>Treaps</li>
<li>Splay trees</li>
<li>2-3/2-3-4 trees/B-trees: no rotations required</li>
</ul></li>
<li>2-3 trees
<ul>
<li>There are 2-nodes and 3-nodes</li>
<li>If a node is overstuffed, give the middle key of the node to parent
node, if parent node is overstuffed, then we need to split the parent
node <img src="/images/CS61B/2-3-tree.png"></li>
</ul></li>
<li>2-3-4 trees
<ul>
<li>There are 2-nodes, 3-nodes and 4-nodes</li>
<li>If we split the root, every node gets pushed down by exactly one
level, if we split a leaf node or internal node, the height doesn't
change</li>
<li>All operations have guaranteed <span class="math inline">\(\Theta
(logN)\)</span> time</li>
<li>If <span class="math inline">\(M\)</span> is the max number of
children, then the height of splitting trees should between <span class="math inline">\(log_M N\)</span> and <span class="math inline">\(log_2 N\)</span></li>
</ul></li>
<li>B-trees
<ul>
<li>A B-tree of order <span class="math inline">\(M = 4\)</span> is also
called a 2-3-4 tree or a 2-4 tree</li>
<li>A B-tree of order <span class="math inline">\(M = 3\)</span> is also
called a 2-3 tree</li>
<li>When M is very large, B-trees are used in practice for databases and
filesystems</li>
<li>B-trees are balanced</li>
</ul></li>
<li>Red-Black Trees
<ul>
<li>2-3/2-3-4 trees are a real pain to implement, and suffer from
performance problems</li>
<li>BST require rotations to maintain balance. 2-3/2-3-4 trees are
balanced, no ratations requried.</li>
<li>Build a BST that is isometric to a 2-3/2-3-4 tree: use rotations to
ensure the isometry, since 2-3/2-3-4 trees are balanced, rotations on
BST will ensure balance</li>
<li>For 2-3 trees with only 2-nodes, the BST is the identical</li>
<li>For 2-3 treew with 3-nodes, there could be different approaches
<ul>
<li>Dummy glue nodes: <img src="/images/CS61B/3-nodes-conversion1.png"></li>
<li>Split 3-nodes with glue red links(commonly used, e.g.
java.util.TreeSet) <img src="/images/CS61B/3-nodes-conversion2.png"></li>
</ul></li>
<li>LLRB(Left-leaning Red Black Binary Search Tree)
<ul>
<li>No node has two red linkes</li>
<li>Every path from root to a leaf has same number of black links</li>
<li>Red links lean left</li>
</ul></li>
<li>For any 2-3 tree, the height of the associated LLRB is no more than
twice of the original height of the 2-3 tree</li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-22-20180312">Lecture 22 2018/03/12</h1>
<ol type="1">
<li>Rushy BST
<ul>
<li>It can be used for storing data</li>
<li>Limitations
<ul>
<li>Items must be comparable</li>
<li>Maintain balancing can be costly</li>
<li>Efficiency: <span class="math inline">\(\Theta (logN)\)</span>, be
we can do better</li>
</ul></li>
</ul></li>
<li>The approach
<ul>
<li>All data is just a sequence of bits. Can treat key as a gigantic
number and use it as an array index</li>
<li>We need collision handling and a straightforward hashCode
function</li>
</ul></li>
<li>Hash Table with External Chaining
<ul>
<li><code>contains</code> function and insert function can be <span class="math inline">\(\Theta (Q)\)</span>, where <span class="math inline">\(Q\)</span> is the longest length of the
chains</li>
<li>If <span class="math inline">\(N\)</span> items are inserted into
<span class="math inline">\(M\)</span> buckets, the average runtime
growth will be <span class="math inline">\(N/M = L\)</span>, also known
as the load factor, then the every operation is <span class="math inline">\(\Theta (L)\)</span></li>
<li>When <span class="math inline">\(L\)</span> is small, the operations
are fast, in order to maintain efficiency, we need to resize the buckets
when there are more items</li>
<li>Since hashCode can be negative, we need to use hashCode % length +
length as the index</li>
</ul></li>
<li>Hash Functions
<ul>
<li>We want a hash functions that can spread the items</li>
<li>Example <span class="math display">\[h(s)=s_0 31^{n-1}+s_1
31^{n-2}+\dots +s_{n-1}\]</span></li>
<li>The Object class uses the address of an item as its hashCode</li>
<li>If you overwite the equals function, you must overwrite the hashCode
function at the same time</li>
</ul></li>
</ol>
<h1 id="lecture-23-20180314">Lecture 23 2018/03/14</h1>
<ol type="1">
<li>Priority Queue
<ul>
<li>Interface <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MinPQ</span>&lt;<span class="title">Item</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// Adds the item to the priority queue</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Item x)</span></span>;</span><br><span class="line">    <span class="comment">// Returns the smallest item in the priority queue.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">getSmallest</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">// Removes the smallest item in the priority queue.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">removeSmallest</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">// Returns the size of the priority queue.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Application: monitor user's messages and find the unhamorious ones
<ul>
<li>Naive way: put all messages into a list and sort with a
comparator</li>
<li>Priority Queue way: only maintain the M(a user-defined criterion)
most unhamorious messages with a priority(if size is larger than M,
simply call removeSmallest function)</li>
</ul></li>
</ul></li>
<li>Implementations of MinPQ
<ul>
<li><p>Comparisons</p>
<table style="width:100%;">
<colgroup>
<col style="width: 18%">
<col style="width: 22%">
<col style="width: 20%">
<col style="width: 18%">
<col style="width: 20%">
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Ordered Array</strong></th>
<th><strong>Bushy BST</strong></th>
<th><strong>Hash Table</strong></th>
<th><strong>Heap</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>add</td>
<td><span class="math inline">\(\Theta (N)\)</span></td>
<td><span class="math inline">\(\Theta (log N)\)</span></td>
<td><span class="math inline">\(\Theta (1)\)</span></td>
<td><span class="math inline">\(\Theta (logN)\)</span></td>
</tr>
<tr>
<td>getSmallest</td>
<td><span class="math inline">\(\Theta (1)\)</span></td>
<td><span class="math inline">\(\Theta (log N)\)</span></td>
<td><span class="math inline">\(\Theta (N)\)</span></td>
<td><span class="math inline">\(\Theta (N)\)</span></td>
</tr>
<tr>
<td>removeSmallest</td>
<td><span class="math inline">\(\Theta (N)\)</span></td>
<td><span class="math inline">\(\Theta (log N)\)</span></td>
<td><span class="math inline">\(\Theta (N)\)</span></td>
<td><span class="math inline">\(\Theta (log N)\)</span></td>
</tr>
</tbody>
</table></li>
<li><p>Heap</p>
<ul>
<li>Binary min-heap: Binary tree that is complete and obeys min-heap
property:
<ul>
<li>Min-heap: every node is less than or equal to both of its
children</li>
<li>Completeness: missing items only at the bottom level(if any), all
nodes are as far left as possible</li>
</ul></li>
<li><code>getSmallest()</code>: simply return the root of the heap</li>
<li><code>removeSmallest()</code>:
<ul>
<li>Swap the last item and the root</li>
<li>Sink down the current root item</li>
</ul></li>
<li><code>insert(Item x)</code>:
<ul>
<li>Add the item to the last of the heap temporarily</li>
<li>Pop up the item if needed to maintain the min-heap property</li>
</ul></li>
</ul></li>
<li><p>Tree Representation</p>
<ul>
<li>Approach 1: Create mapping from node to children
<ul>
<li>Approach 1A: Fixed-width tree <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tree</span>&lt;<span class="title">Key</span>&gt; </span>&#123;</span><br><span class="line">    Key key;</span><br><span class="line">    Tree left;</span><br><span class="line">    Tree middle;</span><br><span class="line">    Tree right;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Approach 1B: Variable-Width Tree <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tree</span>&lt;<span class="title">Key</span>&gt; </span>&#123;</span><br><span class="line">    Key key;</span><br><span class="line">    Tree[] children;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Approach 1c: Sibling Tree <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tree</span>&lt;<span class="title">Key</span>&gt; </span>&#123;</span><br><span class="line">    Key key;</span><br><span class="line">    <span class="comment">// The link that points to a child</span></span><br><span class="line">    Tree favoredChild;</span><br><span class="line">    <span class="comment">// The link that points to a sibling</span></span><br><span class="line">    Tree sibling;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Approach 2: Store keys in an array, store parentIDs in an array
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tree</span>&lt;<span class="title">Key</span>&gt; </span>&#123;</span><br><span class="line">    Key[] keys;</span><br><span class="line">    <span class="comment">// parents[i] = j means the parent of node i is node j</span></span><br><span class="line">    <span class="keyword">int</span>[] parents; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Approach 3: Store keys in an array, don't store structure anywhere,
simply assume tree is complete(does not work for incomplete trees)
<ul>
<li>Approach 3A: Indexing from 0 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tree</span>&lt;<span class="title">Key</span>&gt; </span>&#123;</span><br><span class="line">    Key[] keys;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">popUp</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (keys[parent(k)] &gt; keys[k]) &#123;</span><br><span class="line">            swap(k, parent(k));</span><br><span class="line">            popUp(parent(k));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">parent</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> (k - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Approach 3B: Store by 1 offset, indexing from 0but data is stored
starting from 1, leftChild(k) = k * 2, rightChild(k) = k * 2 + 1,
parent(k) = k / 2 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Tree</span>&lt;<span class="title">Key</span>&gt; </span>&#123;</span><br><span class="line">    Key[] keys;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">popUp</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (keys[parent(k)] &gt; keys[k]) &#123;</span><br><span class="line">            swap(k, parent(k));</span><br><span class="line">            popUp(parent(k));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">                </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">parent</span><span class="params">(<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> k / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-24-20180316">Lecture 24 2018/03/16</h1>
<ol type="1">
<li>Use BSTs to build Sets and Maps, use Heaps to build PQs</li>
<li>Traversals
<ul>
<li>Level order traversals
<ul>
<li>Travel top-to-bottom, lefti-to-right</li>
<li>Nodes are visited in the given order</li>
<li>Lever order Traversal with Iterative Deepening <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">leverOrder</span><span class="params">(BSTNode x, Action toDo)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; T.height(); i++) &#123;</span><br><span class="line">        visitLevel(T, i, toDo);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">            </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visitLevel</span><span class="params">(BSTNode x, <span class="keyword">int</span> level, Action toDo)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (level == <span class="number">0</span>) &#123;</span><br><span class="line">        toDo.visit(x.key);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        visitLevel(x.left, level - <span class="number">1</span>, toDo);</span><br><span class="line">        visitLevel(x.right, level - <span class="number">1</span>, toDo);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Iterative deepening runtime for a complete BST of height <span class="math inline">\(logN\)</span> is <span class="math inline">\(\Theta (N)\)</span>, and the runtime for a spindly
BST of height <span class="math inline">\(N\)</span> is <span class="math inline">\(\Theta (N^{2})\)</span></li>
</ul></li>
<li>Depth First Traversals:
<ul>
<li>Preorder, inorder, postorder</li>
<li>Basic idea: traverse deep nodes before shallow ones, this is a
recursive process</li>
<li>If time needed to visit each node is constant, then the time of
whole traversal is <span class="math inline">\(\Theta (N)\)</span></li>
<li>Preorder traversal <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">preOrder(BSTNode x) &#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Do something with the key</span></span><br><span class="line">    System.out.println(x.key);</span><br><span class="line">    preOrder(x.left);</span><br><span class="line">    preOrder(x.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Inorder traversal <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">inOrder</span><span class="params">(BSTNode x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    inOrder(x.left);</span><br><span class="line">    <span class="comment">//Do something with the key</span></span><br><span class="line">    System.out.println(x.key);</span><br><span class="line">    inOrder(x.right);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Postorder traversal <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">postOrder</span><span class="params">(BSTNode x)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    postOrder(x.left);</span><br><span class="line">    postOrder(x.right);</span><br><span class="line">    <span class="comment">//Do something with the key</span></span><br><span class="line">    System.out.println(x.key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>A trick for the map of the BST(draw the tree with root on the top,
then travel from top-to-bottom and left-to-right):
<ul>
<li>Preorder traversal: each time on the left side of the node, mark it
as visited</li>
<li>Inorder traversal: each time on the bottom of the node, mark it as
visited</li>
<li>Postorder traversal: each time on the right side of the node, makr
it as visited<br>
</li>
</ul></li>
</ul></li>
</ul></li>
<li>Range Finding
<ul>
<li>We want search like public Set<Label> findInRange(BSTNode x, Label
min, Label max)</Label></li>
<li>Obviously we can use DFS to do this, but we can use pruning to speed
up the process</li>
<li>Pruning: restrict our search to only nodes that might contain the
answers we seek</li>
<li>With pruning, the runtime can be <span class="math inline">\(\Theta(logN + R)\)</span>, where <span class="math inline">\(R\)</span> is the number of matches</li>
</ul></li>
</ol>
<h1 id="lecture-25-20180321">Lecture 25 2018/03/21</h1>
<ol type="1">
<li><p>Graphs</p>
<ul>
<li>Graph: a set of nodes(called vertices) connected pairwise by
edges</li>
<li>Terminologies: vertices, edges, dajacent vertices, vertices or edges
may have labels(weights), path, cycle, connected vertices</li>
<li>Some graph problems:
<ul>
<li>s-t Path: is there is a path between s and t</li>
<li>Shortest s-t Path: what is the shortest path between s and t</li>
<li>Cycle: does the graph contain any cycles</li>
<li>Euler tour: is there a cycle that uses every edge exactly once</li>
<li>Hamilton tour: is there a cycle that uses every vertex excatly
once</li>
<li>Connectivity is the graph conencted, i.e. is there a path between
all vertex pairs</li>
<li>Biconnectivity: is there avertex whose removal disconnect the
graph</li>
<li>Planarity: can you draw the graph on a piece of paper with no
crossing edges</li>
<li>Isomorphism: are two graphs isomorphic(the same graph in
disguise)<br>
</li>
</ul></li>
</ul></li>
<li><p>Graph Representations</p>
<ul>
<li>Common convention: use number throughout the graph
implementation</li>
<li>Graph API <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Graph</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Create empty graph with v vertices</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Graph</span><span class="params">(<span class="keyword">int</span> V)</span></span>;</span><br><span class="line">    <span class="comment">// add edge v-w</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span>;</span><br><span class="line">    <span class="comment">// vertices adjacent to v</span></span><br><span class="line">    <span class="function">Iterable&lt;Integer&gt; <span class="title">adj</span><span class="params">(<span class="keyword">int</span> v)</span></span>;</span><br><span class="line">    <span class="comment">// number of vertices</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">V</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">// number of edges</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">E</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Representations
<ul>
<li>Adjacent matrix: printing graph costs <span class="math inline">\(\Theta (N^2)\)</span> time</li>
<li>Edge sets: (source, target) sets</li>
<li>Adjacency lists: the most common approach. Efficiency analysis for
printing graph, best case <span class="math inline">\(\Theta
(V)\)</span>, worst case <span class="math inline">\(\Theta
(V^2)\)</span>, all cases <span class="math inline">\(\Theta
(V+E)\)</span></li>
<li>Adjacency list implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Graph</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> <span class="keyword">final</span> V;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt;[] adj;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Graph</span><span class="params">(<span class="keyword">int</span> V)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.V = V;</span><br><span class="line">        adj =  (List&lt;Integer&gt;[]) <span class="keyword">new</span> ArrayList[V];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; V; v++) &#123;</span><br><span class="line">            adj[v] = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        adj[v].add(w);</span><br><span class="line">        adj[w].add(v);</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;Integer&gt; <span class="title">adj</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> adj[v];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Comparisons</li>
</ul></li>
</ul>
<p></p>
<table>
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 26%">
<col style="width: 13%">
<col style="width: 18%">
<col style="width: 13%">
</colgroup>
<thead>
<tr>
<th>idea</th>
<th><code>addEdge(s, t)</code></th>
<th><code>for(s: adj(v))</code></th>
<th><code>printgraph()</code></th>
<th><code>hasEdge(s, t)</code></th>
<th><strong>space used</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>adjacency matrix</td>
<td><span class="math inline">\(\Theta (1)\)</span></td>
<td><span class="math inline">\(\Theta (V)\)</span></td>
<td><span class="math inline">\(\Theta (V^2)\)</span></td>
<td><span class="math inline">\(\Theta (1)\)</span></td>
<td><span class="math inline">\(\Theta (V^2)\)</span></td>
</tr>
<tr>
<td>list of edges</td>
<td><span class="math inline">\(\Theta (1)\)</span></td>
<td><span class="math inline">\(\Theta (E)\)</span></td>
<td><span class="math inline">\(\Theta (E)\)</span></td>
<td><span class="math inline">\(\Theta (E)\)</span></td>
<td><span class="math inline">\(\Theta (E)\)</span></td>
</tr>
<tr>
<td>adjacency list</td>
<td><span class="math inline">\(\Theta (1)\)</span></td>
<td><span class="math inline">\(\Theta (1)\)</span> to <span class="math inline">\(\Theta (1)\)</span></td>
<td><span class="math inline">\(\Theta (V+E)\)</span></td>
<td><span class="math inline">\(\Theta (degree(v))\)</span></td>
<td><span class="math inline">\(\Theta (V+E)\)</span></td>
</tr>
</tbody>
</table></li>
<li><p>Depth First Traversal</p>
<ul>
<li>Maze traversal/s-t Path
<ul>
<li>We need to ensuer we will no be lost in an infinite loop, so an
array for marking the visited vertices is needed</li>
<li>Algorithms:
<ul>
<li>Mark s</li>
<li>If s == t, return True</li>
<li>Check all of s's unmarked neighbors for connectivity to t</li>
</ul></li>
</ul></li>
<li>DFS implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Paths</span> </span>&#123;</span><br><span class="line">    <span class="comment">//  If s and t and connected, then marked[v] is true</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] marked;</span><br><span class="line">    <span class="comment">// edgeTo[v] is the previous vertex of v on the path from s to v</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] edgeTo;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> s;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Paths</span><span class="params">(Graph G, <span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.s = s;</span><br><span class="line">        edgeTo = <span class="keyword">new</span> <span class="keyword">int</span>[G.V()];</span><br><span class="line">        marked = <span class="keyword">new</span> <span class="keyword">boolean</span>[G.V()];</span><br><span class="line">        dfs(G, s);</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Graph G, <span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        marked[v] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> w: G.adj(v)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (! marked[w]) &#123;</span><br><span class="line">                edgeTo[w] = v;</span><br><span class="line">                dfs(G, w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPathTo</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> marked[v];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;Integer&gt; <span class="title">pathTo</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!hasPathTo(v)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;Integer&gt; path = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> x = v; x != s; x = edgeTo[x]) &#123;</span><br><span class="line">            path.push(x);</span><br><span class="line">        &#125;</span><br><span class="line">        path.push(s);</span><br><span class="line">        <span class="keyword">return</span> path;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
</ol>
<h1 id="lecture-26-20180323">Lecture 26 2018/03/23</h1>
<ol type="1">
<li>epth First Path
<ul>
<li>DFS is a more general term for any graph search algorithm that
traverses a graph as deep as possible begore backtracking</li>
<li>Rumtime: <span class="math inline">\(\Theta (V+E)\)</span>, space
<span class="math inline">\(\Theta (V)\)</span></li>
<li>Preorder DFS on a graph: order of dfs calls</li>
<li>Post order DFS on a graph: order of returns from dfs</li>
<li>Level order DFS on a graph: order of increasing distance from s</li>
</ul></li>
<li>Topological Sort
<ul>
<li>Definition: a topological sort of a directed graph is a linear
ordering of its vertices such that for every directed edge uv from
vertex u to vertex v, u comes before v in the ordering</li>
<li>The algorithm:
<ul>
<li>Perform a DFS traversal from every vertex with indegree 0, not
clearing markings in between traversals
<ul>
<li>Record DFS post order in a list</li>
<li>Topological ordering is given by the reverse of that list(to avoid
reversing a list, you can simply use a stack instead)</li>
</ul></li>
</ul></li>
<li>The implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DepthFirstOrder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] marked;</span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; reversePostorder;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DepthFirstOrder</span><span class="params">(Digraph G)</span> </span>&#123;</span><br><span class="line">        reversePostorder = <span class="keyword">new</span> Stack&lt;Integer&gt;();</span><br><span class="line">        marked = <span class="keyword">new</span> <span class="keyword">boolean</span>[G.V()];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; G.V(); v++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!marked[v]) &#123;</span><br><span class="line">            dfs(G, v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Digraph G, <span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        marked[v] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> w: G.adj(v)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!marked[w]) &#123;</span><br><span class="line">                dfs(G, w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        reversePostorder.push(v);</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;Integer&gt; <span class="title">reversePostorder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> reversePostorder;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Runtime: <span class="math inline">\(\Theta (V+E)\)</span>, space:
<span class="math inline">\(\Theta (V)\)</span></li>
</ul></li>
<li>readth First Search
<ul>
<li>For trees, we use iterative deepening, although it's bad for spindly
trees(<span class="math inline">\(\Theta (N^2)\)</span>)</li>
<li>BFS algorithm:
<ul>
<li>Initiate a queue with a starting vertex s and mark that vertex</li>
<li>Repeat until queue is empty:
<ul>
<li>Remove vertex v from queue</li>
<li>For each unmarked neighbor of v: mark, add to queue, set its edgeTo
= v</li>
</ul></li>
</ul></li>
<li>Implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BreadthFirstPaths</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] marked;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] edgeTo;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BreadthFirstPaths</span><span class="params">(Graph G, <span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        marked = <span class="keyword">new</span> <span class="keyword">boolean</span>[G.V()];</span><br><span class="line">        edgeTo = <span class="keyword">new</span> <span class="keyword">int</span>[G.V()];</span><br><span class="line">        bfs(G, s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(Graph G, <span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        Queue&lt;Integer&gt; fringe = <span class="keyword">new</span> Queue&lt;Integer&gt;();</span><br><span class="line">        fringe.enqueue(s);</span><br><span class="line">        marked[s] = <span class="keyword">true</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> (!fringe.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = fringe.dequeue();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> w: G.adj(v)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!marked[w]) &#123;</span><br><span class="line">                    fringe.add(w);</span><br><span class="line">                    marked[w] = <span class="keyword">true</span>;</span><br><span class="line">                    edgeTo[w] = v;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Runtime: <span class="math inline">\(\Theta (V+E)\)</span>, space:
<span class="math inline">\(\Theta (V)\)</span></li>
<li>We can use BFS for shortest path</li>
</ul></li>
</ol>
<h1 id="lecture-27-20180402">Lecture 27 2018/04/02</h1>
<ol type="1">
<li>For connectivity problem, if the graph is bushy, BFS can be slower,
while for spindly graph, DFS may perform worse</li>
<li>For unweighted graph, BFS is goold for shortest path, but for
weighted graph, we need to use Dijkstra's algorithm(BFS find path with
least vertices, but such a path may not be the shortest)</li>
<li>Djikstra's algorithm
<ul>
<li>Single source single target shortest path problem, the solution is
always a path with no cycles(if a graph has no cycles and each node has
one parent, then it's a tree)</li>
<li>Consider the shortest path tree of a connected edge-weighted
graph(assume ever vertex is reachable), the edges of the SPT is always
<span class="math inline">\(V-1\)</span>, since all nodes in the tree
has one parent(then one edge) except for the root</li>
<li>Algorithm: visit vertices in order of best-known distance from the
source vertex, relaxing each edge from the visited vertex(relax an edge:
add to SPT if better distane)
<ul>
<li>Insert all vertices into fringe PQ, storing vertices in order of
distance from source(initial distTo = <span class="math inline">\(+\infty\)</span>)</li>
<li>Repeat until fringe PQ is emtpy: remove nearest vertices in the PQ,
relax all edges(update distTo and edgeTo, and reorder in the PQ)</li>
</ul></li>
<li>Implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DijkstraSP</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span>[] distTo;          <span class="comment">// distTo[v] = distance  of shortest s-&gt;v path</span></span><br><span class="line">    <span class="keyword">private</span> DirectedEdge[] edgeTo;    <span class="comment">// edgeTo[v] = last edge on shortest s-&gt;v path</span></span><br><span class="line">    <span class="keyword">private</span> IndexMinPQ&lt;Double&gt; pq;    <span class="comment">// priority queue of vertices</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DijkstraSP</span><span class="params">(EdgeWeightedDigraph G, <span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        distTo = <span class="keyword">new</span> <span class="keyword">double</span>[G.V()];</span><br><span class="line">        edgeTo = <span class="keyword">new</span> DirectedEdge[G.V()];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; G.V(); v++)</span><br><span class="line">            distTo[v] = Double.POSITIVE_INFINITY;</span><br><span class="line">            distTo[s] = <span class="number">0.0</span>;</span><br><span class="line">        </span><br><span class="line">        pq = <span class="keyword">new</span> IndexMinPQ&lt;Double&gt;(G.V());</span><br><span class="line">        pq.insert(s, distTo[s]);</span><br><span class="line">        <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = pq.delMin();</span><br><span class="line">            <span class="keyword">for</span> (DirectedEdge e : G.adj(v))</span><br><span class="line">                relax(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">relax</span><span class="params">(DirectedEdge e)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// edge from tail to head, node.from returns the tail, node.to returns the head, and tail.weight() returns the weight</span></span><br><span class="line">        <span class="keyword">int</span> v = e.from(); </span><br><span class="line">        <span class="keyword">int</span> w = e.to();</span><br><span class="line">        <span class="keyword">if</span> (distTo[w] &gt; distTo[v] + e.weight()) &#123;</span><br><span class="line">            distTo[w] = distTo[v] + e.weight();</span><br><span class="line">            edgeTo[w] = e;  </span><br><span class="line">            <span class="keyword">if</span> (pq.contains(w)) &#123;</span><br><span class="line">                <span class="comment">// distTo[w] decreas, so we need to find a correct place for it</span></span><br><span class="line">                pq.decreaseKey(w, distTo[w]);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                pq.insert(w, distTo[w]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">distTo</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        validateVertex(v);</span><br><span class="line">        <span class="keyword">return</span> distTo[v];</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasPathTo</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> distTo[v] &lt; Double.POSITIVE_INFINITY;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;DirectedEdge&gt; <span class="title">pathTo</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        validateVertex(v);</span><br><span class="line">        <span class="keyword">if</span> (!hasPathTo(v)) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        Stack&lt;DirectedEdge&gt; path = <span class="keyword">new</span> Stack&lt;DirectedEdge&gt;();</span><br><span class="line">        <span class="keyword">for</span> (DirectedEdge e = edgeTo[v]; e != <span class="keyword">null</span>; e = edgeTo[e.from()]) &#123;</span><br><span class="line">            path.push(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> path;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Runtime: <span class="math inline">\(O((V+E)logV)\)</span></li>
</ul></li>
<li><span class="math inline">\(A^{*}\)</span> Algorithm
<ul>
<li>If we have an estimate of the distance between the origin and single
target, then seraching from the nearest vertex will not be a good idea.
In such a situation we use <span class="math inline">\(A^{*}\)</span>
algorithm instead in which we order the vertices using <span class="math inline">\(distTo(v) + h(v)\)</span>, where <span class="math inline">\(h(v)\)</span> is an estimate of the distance of
v</li>
<li>We first make out a heuristic <span class="math inline">\(h(v)\)</span> for each vertex v and calculate
<span class="math inline">\(distTo(v) + h(v)\)</span> instead of <span class="math inline">\(distTo(v)\)</span> in the Dijkstra's
algorithm</li>
<li>A heuristic that overestimates is inadmissible, as long as the
heuristic is admissible, the <span class="math inline">\(A^*\)</span>
algorithm can yield the shortest path</li>
</ul></li>
</ol>
<h1 id="lecture-28-20180404">Lecture 28 2018/04/04</h1>
<ol type="1">
<li>Check is there is a cycle in a graph:
<ul>
<li>DFS: runtime check vertices, <span class="math inline">\(\Theta
(V+E)\)</span></li>
<li>QuickUnionUF: check edges, runtime <span class="math inline">\(\Theta (V +ElogV)\)</span></li>
</ul></li>
<li>Spanning Tree:
<ul>
<li>Definition: given an undirected graph, a spanning tree T is a
subgraph of G, where T: is connected, is acyclic, includes all of the
vertices</li>
<li>A minimum spanning tree is a spanning tree with minimum total
weight</li>
<li>MSP v.s. SPT
<ul>
<li>The SPT depends on the start vertex, but MSP does not</li>
<li>The MST sometimes happens to be an SPT for a specific vertex(it's no
guaranteed that the MST can be a SPT of a specific vertex)</li>
</ul></li>
</ul></li>
<li>The cut property
<ul>
<li>A cut is an assignment of a graph's nodes to two non-empty sets</li>
<li>A crossing edge is an edge which connects a node from one set to a
node frmo the other set</li>
<li>Given a cut, minimum weight crossing edge is in the MST(can be
proved by contradiction)</li>
</ul></li>
<li>Prim's algorithm
<ul>
<li>Steps:
<ul>
<li>Start fron some arbitrary node, add shortest edge(this is a shortest
crossing edge) that has one node inside the MST under construction,
repeat until V - 1 edges</li>
<li>Prim's algorithm and Dijkstra's algorithm are actuall the same,
except Dijstra's algorithm considers distance from the source, and
Prim's algorithsm considers distance from the tree</li>
</ul></li>
<li>Implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimMST</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">private</span> Edge[] edgeTo;        <span class="comment">// edgeTo[v] = shortest edge from tree vertex to non-tree vertex</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span>[] distTo;      <span class="comment">// distTo[v] = weight of shortest such edge</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] marked;     <span class="comment">// marked[v] = true if v on tree, false otherwise</span></span><br><span class="line">    <span class="keyword">private</span> IndexMinPQ&lt;Double&gt; pq;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PrimMST</span><span class="params">(EdgeWeightedGraph G)</span> </span>&#123;</span><br><span class="line">        edgeTo = <span class="keyword">new</span> Edge[G.V()];</span><br><span class="line">        distTo = <span class="keyword">new</span> <span class="keyword">double</span>[G.V()];</span><br><span class="line">        marked = <span class="keyword">new</span> <span class="keyword">boolean</span>[G.V()];</span><br><span class="line">        pq = <span class="keyword">new</span> IndexMinPQ&lt;Double&gt;(G.V());</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; G.V(); v++) &#123;</span><br><span class="line">            distTo[v] = Double.POSITIVE_INFINITY;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; G.V(); v++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!marked[v]) &#123;</span><br><span class="line">                prim(G, v);</span><br><span class="line">            &#125;      </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">prim</span><span class="params">(EdgeWeightedGraph G, <span class="keyword">int</span> s)</span> </span>&#123;</span><br><span class="line">        distTo[s] = <span class="number">0.0</span>;</span><br><span class="line">        pq.insert(s, distTo[s]);</span><br><span class="line">        <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span> v = pq.delMin();</span><br><span class="line">            scan(G, v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">scan</span><span class="params">(EdgeWeightedGraph G, <span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// v is in the MST</span></span><br><span class="line">        marked[v] = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (Edge e : G.adj(v)) &#123;</span><br><span class="line">            <span class="comment">// the other end of the edge e</span></span><br><span class="line">            <span class="keyword">int</span> w = e.other(v);</span><br><span class="line">            <span class="keyword">if</span> (marked[w]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (e.weight() &lt; distTo[w]) &#123;</span><br><span class="line">                distTo[w] = e.weight();</span><br><span class="line">                edgeTo[w] = e;</span><br><span class="line">                <span class="keyword">if</span> (pq.contains(w)) &#123;</span><br><span class="line">                    pq.decreaseKey(w, distTo[w]);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    pq.insert(w, distTo[w]);</span><br><span class="line">                &#125;             </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;Edge&gt; <span class="title">edges</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Queue&lt;Edge&gt; mst = <span class="keyword">new</span> Queue&lt;Edge&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; edgeTo.length; v++) &#123;</span><br><span class="line">            Edge e = edgeTo[v];</span><br><span class="line">            <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123;</span><br><span class="line">                mst.enqueue(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> mst;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Runtime: <span class="math inline">\((V+E)logV\)</span></li>
</ul></li>
<li>Kruskal's Algorithm
<ul>
<li>Algorithm: consider edges in order of increasing weight, add to MST
unless a cylce is created, repeat until V - 1 edges. We can do this by
firstly inserting all edges into the PQ, and then repeatedly removing
the smallest weight edge and adding it to the MST if no cycing is
created</li>
<li>The MST under construction in Prim's algorithm is always conencted,
but the one in Kruskal's algorithm needs not to be connected</li>
<li>The implementation <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line">        </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KruskalMST</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> weight;                        <span class="comment">// weight of MST</span></span><br><span class="line">    <span class="keyword">private</span> Queue&lt;Edge&gt; mst = <span class="keyword">new</span> Queue&lt;Edge&gt;();  <span class="comment">// edges in MST</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">KruskalMST</span><span class="params">(EdgeWeightedGraph G)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// create array of edges, sorted by weight</span></span><br><span class="line">        Edge[] edges = <span class="keyword">new</span> Edge[G.E()];</span><br><span class="line">        <span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (Edge e: G.edges()) &#123;</span><br><span class="line">            edges[t++] = e;</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(edges);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// run greedy algorithm</span></span><br><span class="line">        UF uf = <span class="keyword">new</span> UF(G.V());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G.E() &amp;&amp; mst.size() &lt; G.V() - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            Edge e = edges[i];</span><br><span class="line">            <span class="keyword">int</span> v = e.either();</span><br><span class="line">            <span class="keyword">int</span> w = e.other(v);</span><br><span class="line">        </span><br><span class="line">            <span class="comment">// v-w does not create a cycle</span></span><br><span class="line">            <span class="keyword">if</span> (uf.find(v) != uf.find(w)) &#123;</span><br><span class="line">                uf.union(v, w);     <span class="comment">// merge v and w components</span></span><br><span class="line">                mst.enqueue(e);     <span class="comment">// add edge e to mst</span></span><br><span class="line">                weight += e.weight();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;Edge&gt; <span class="title">edges</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mst;</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">weight</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> weight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>Runtime: <span class="math inline">\(ElogE\)</span></li>
</ul></li>
</ol>
<h1 id="lecture-29-20180406">Lecture 29 2018/04/06</h1>
<ol type="1">
<li>MSP for DAG
<ul>
<li>DAG: directed acyclic graph, any such graph can be topological
sorted(sometimes called linearization)</li>
<li>Dijkstra's algorithm on DAG: visit the vertex in the topological
order and relax all of its going edges
<ul>
<li>Runtime: <span class="math inline">\(\Theta (E+V)\)</span></li>
</ul></li>
</ul></li>
<li>Dynamic Programming:
<ul>
<li>Definition: the approach of solving increasingly large subproblems
is called dynamic programming</li>
<li>The longest increasing subsequence: given a sequence of integers,
find the longest increasing subsequence(LIS), or the length of the
longest increasing subsequence(LLIS)
<ul>
<li>Approach 1:
<ul>
<li>Create a DAG with the integers, and find the longest path, the
vertices in the path construct the LIS</li>
<li>The algorithm:
<ul>
<li>Create copy with edge weights set to -1</li>
<li>For each vertex v:
<ul>
<li>Run DAGSPT algorithm from v, let LP[v] = abs(min(disTo(w)))</li>
</ul></li>
<li>Return max(LP), then the longest path should start from that
vertex</li>
</ul></li>
<li>Runtime: <span class="math inline">\(\Theta (N^3)\)</span></li>
</ul></li>
<li>Approach 2:
<ul>
<li>Let LLSEA(k) be the length of longest subsequence ending at index k,
for abbreviation, we denote it as Q(k)</li>
<li>The algorithm:
<ul>
<li>Q = [0, Double.NEGATIVE_INFINITY, ...,
Double.NEGATIVE_INFINITY]</li>
<li>For each k = 1, ..., N: if there exists an L such that Q[L] + 1 &gt;
Q[k], then Q[k] = Q[L] + 1, otherwise Q[k] = 1</li>
<li>Return max(Q)</li>
</ul></li>
<li>Runtime: <span class="math inline">\(\Theta (N^3)\)</span></li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-30-20180409">Lecture 30 2018/04/09</h1>
<ol type="1">
<li>Sorting
<ul>
<li>A osrt is a permutation of a sequence of elements that brings them
into order according to some total order. A total order is:
<ul>
<li>Totao: <span class="math inline">\(x \leq y\)</span> or <span class="math inline">\(y \leq x\)</span> for all x, y</li>
<li>Reflexive: <span class="math inline">\(x \leq x\)</span></li>
<li>Antisymmetrix: <span class="math inline">\(x \leq y\)</span> and
<span class="math inline">\(y \leq x\)</span> iff <span class="math inline">\(x=y\)</span> (x and y are equivalent)</li>
<li>Transitive: <span class="math inline">\(x \leq y\)</span> and <span class="math inline">\(y \leq z\)</span> implies <span class="math inline">\(x \leq z\)</span></li>
</ul></li>
<li>In java, total order is specified by compareTo or compare methods,
it may be inconsistent with equals method</li>
<li>An inversion is a pair of elements that are out of order</li>
<li>Time complexity: the runtime efficiency of an algofithm</li>
<li>Space complexity: extra memory usage of an algorithm</li>
</ul></li>
<li>Selection Sort and Heap Sort
<ul>
<li>Selection Sort
<ul>
<li>Selection sroting N items
<ul>
<li>Find the smallest item in the unsorted portion of the array</li>
<li>Move it to the end of the sorted portion of the array</li>
<li>Selection sort the remaining unsorted items</li>
</ul></li>
<li>Runtime: <span class="math inline">\(\Theta (N^2)\)</span></li>
</ul></li>
<li>Naive Heapsort
<ul>
<li>Naive Heapsort using a max-oriented heap:
<ul>
<li>Insert the N items from an input into a max-heap, this costs <span class="math inline">\(\Theta (NlogN)\)</span></li>
<li>Delete the max item from the heap and insert it into the output
array, selecting the largest is <span class="math inline">\(\Theta
(1)\)</span> and removeing the largest is <span class="math inline">\(\Theta (logN)\)</span></li>
<li>The total runtime for the above heapsort is <span class="math inline">\(O(NlogN)\)</span>, the space complexity is <span class="math inline">\(\Theta (N)\)</span></li>
</ul></li>
</ul></li>
<li>Inplace Heapsort
<ul>
<li>Use bottom-up heapification to convert the input array into a heap,
this costs <span class="math inline">\(O(NlogN)\)</span>
<ul>
<li>Sink every node in reverse level order(from the back of the array,
that is, the last item in the heap)</li>
<li>After sinking, it is guaranteed that tree rooted at position k is a
heap, when the tree at root is a heap, then the entire tree is a
heap</li>
</ul></li>
<li>Delete the max from the heap and insert it into the back of the
input array(keep reheaping during the process)</li>
<li>The overall runtime is <span class="math inline">\(O(NlogN)\)</span>, space is <span class="math inline">\(O(1)\)</span></li>
</ul></li>
<li>Top-Down Merge Sort
<ul>
<li>Top-Down merge sorting N items:
<ul>
<li>Split items into 2 roughly even pieces</li>
<li>Mergesort each half</li>
<li>Merge the two sorted halves to form the final output</li>
</ul></li>
<li>Runtime: <span class="math inline">\(\Theta (NlogN)\)</span>, space
<span class="math inline">\(\Theta (N)\)</span></li>
<li>It's possible to do inplace merge sort, but the performance is
terriable</li>
</ul></li>
<li>Insertion Sort
<ul>
<li>Not inplace version:
<ul>
<li>From leftmost part of the input array</li>
<li>Add each item from input, inserting into output at right point</li>
</ul></li>
<li>Inplace version:
<ul>
<li>Repeat for i = 0 to N - 1:
<ul>
<li>Designate item i as the traveling item</li>
<li>Swap item backwards until traveller is in the right place among all
previously examined items(do this with two pointers)</li>
</ul></li>
<li>Runtime: <span class="math inline">\(\Theta (1)\)</span> for best
case, <span class="math inline">\(O(N^2)\)</span> for worst case, for
small arrays(N &lt; 15) or arrays with a small number of inversions,
insertion sort is fast</li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecutre-31-20180411">Lecutre 31 2018/04/11</h1>
<ol type="1">
<li>Quick Sort
<ul>
<li>Partition: the partition of an array <code>a[]</code> on element
<code>x = a[i]</code> is to rearrance <code>a[]</code> so that:
<ul>
<li>x moves to position j(may be the same as i)</li>
<li>All entries to the left of x are <span class="math inline">\(\leq
x\)</span></li>
<li>All entries to the right of x are <span class="math inline">\(\geq
x\)</span></li>
</ul></li>
<li>Dutch flag problem:
<ul>
<li>Naive approach: create another array and copy the items</li>
<li>Another approach: two pointers</li>
</ul></li>
<li>Runtime for the best case <span class="math inline">\(\Theta
(NlogN)\)</span>, and the worst case one is <span class="math inline">\(\Theta (N^2)\)</span>, runtime for the average
case is <span class="math inline">\(\Theta (NlogN)\)</span>. While for
merge sort, both best case and worst case runtime are <span class="math inline">\(\Theta (NlogN)\)</span></li>
<li>Quick sort is actually a BST sort</li>
<li>Avoid worst cases:
<ul>
<li>Worst case examples:
<ul>
<li>Bad ordering: array already in sorted order</li>
<li>Bad elements: array with all duplicates</li>
</ul></li>
<li>Strategies:
<ul>
<li>Randomness: pick a random pivot or shuffle before sorting</li>
<li>Smarter pivot selection: calculate or approximate the median</li>
<li>Introspection: switch to a safer sort if recursion goes too
deep</li>
<li>Preprocess the array: analyze to see if quick sort is
appropriate</li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-32-20180413">Lecture 32 2018/04/13</h1>
<ol type="1">
<li>Speed up quick sort
<ul>
<li>Choose correct pivot</li>
<li>Choose correct partition algorithm</li>
<li>Try to avoid worst cases</li>
</ul></li>
<li>Tony Hoare's Inplace Partition Scheme
<ul>
<li>Pivot first item</li>
<li>L pionter starts from leftmost, it loves smll items</li>
<li>G pointer starts from rightmost, it loves large items</li>
<li>L moves right, G moves left, they stop on disliked items, then swap
item on L and G</li>
<li>When L and G cross, stop the process</li>
<li>Swap item at pivot and item at G</li>
</ul></li>
<li>The Quick sort widely used nowadays uses two pivots</li>
<li>Quick Select
<ul>
<li>Compute the exact median would be great for picking an item to
partition around</li>
<li>We can use partitioning to find the exact median, and the algorithm
is the best known median identification algorithm</li>
<li>Steps:
<ul>
<li>Pick the leftmost item as pivot, then do partitioning</li>
<li>The median should be at index arr.length / 2, so only need to repeat
the process for one part</li>
<li>Repeat until the median is found</li>
</ul></li>
</ul></li>
<li>Stability, Adaptiveness, Optimization
<ul>
<li>Stability
<ul>
<li>Definition: a sort is said to be stable if order of equivalent items
is preserved</li>
<li>Summary</li>
</ul>
<table>
<colgroup>
<col style="width: 16%">
<col style="width: 17%">
<col style="width: 18%">
<col style="width: 34%">
<col style="width: 12%">
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Memory</strong></th>
<th><strong>Comlexity</strong></th>
<th><strong>Notes</strong></th>
<th><strong>Stable?</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Heap Sort</td>
<td><span class="math inline">\(\Theta (1)\)</span></td>
<td><span class="math inline">\(\Theta (NlogN)\)</span></td>
<td>Bac caching</td>
<td>No</td>
</tr>
<tr>
<td>Insertion Sort</td>
<td><span class="math inline">\(\Theta (1)\)</span></td>
<td><span class="math inline">\(\Theta (N^2)\)</span></td>
<td><span class="math inline">\(\Theta (N)\)</span> is almost
sorted</td>
<td>Yes</td>
</tr>
<tr>
<td>Merge Sort</td>
<td><span class="math inline">\(\Theta (N)\)</span></td>
<td><span class="math inline">\(\Theta (NlogN)\)</span></td>
<td></td>
<td>Yes</td>
</tr>
<tr>
<td>Quick Sort</td>
<td><span class="math inline">\(\Theta (logN)\)</span></td>
<td><span class="math inline">\(\Theta (NlogN)\)</span></td>
<td>Fatest sort</td>
<td>No</td>
</tr>
</tbody>
</table></li>
<li>Some tricks:
<ul>
<li>Switch to insertion sort</li>
<li>Make sort addaptive</li>
</ul></li>
<li>Arrays.sort()
<ul>
<li>For primitive types: it uses quick sort to sort things in ascending
numerical order</li>
<li>For reference types: it uses merge sort to sort things in ascending
order according to the natural order of items</li>
</ul></li>
<li>Shuffling
<ul>
<li>Easiest way to shuffle an array:
<ul>
<li>Associate each item with a random number</li>
<li>Sort the items by the random number</li>
</ul></li>
</ul></li>
</ul></li>
</ol>
<h1 id="lecture-33-20180416">Lecture 33 2018/04/16</h1>
<ol type="1">
<li>Some Math Problem
<ul>
<li><span class="math inline">\(N! \in \Omega ((N/2)^{N/2})\)</span>
(Consider Stirling's formula: <span class="math inline">\(N! = \sqrt{2
\pi N} (\frac{N}{e})^N\)</span>)</li>
<li><span class="math inline">\(logN! \in \Omega (NlogN)\)</span> (This
is obvious from the above equation)</li>
<li><span class="math inline">\(NlogN \in \Omega(logN!)\)</span> (Again
refer to the Stirling's formula, another way <span class="math inline">\(NlogN = logN + logN+\dots+logN\)</span>, <span class="math inline">\(logN!=logN+log{N-1}+\dots+log1\)</span>)</li>
</ul></li>
<li>Bounds
<ul>
<li>If there is a clevest comparison based sorting algorithm, the upper
bound runtime should be <span class="math inline">\(O(NlogN)\)</span>,
because it should not be worse than merge sort</li>
<li>The lower bound should be <span class="math inline">\(\Omega(N)\)</span>, because it should at least
inspect all N items</li>
<li>We can prove the lower bound should be <span class="math inline">\(\Omega(NlogN)\)</span>: there are <span class="math inline">\(N!\)</span> permutations of the decision tree, so
we need <span class="math inline">\(log{N!}\)</span> height of the
decision tree, so the lower bound is <span class="math inline">\(\Omega(log{N!})\)</span></li>
</ul></li>
<li>We can convert other kinds of problems into sorting problems. Then
the lower bound and higher bound of sorting also applies to other
problems
<ul>
<li>Any comparison based sort needs at least <span class="math inline">\(NlogN\)</span> comparisons</li>
</ul></li>
</ol>
<h1 id="lecture-34-20180418">Lecture 34 2018/04/18</h1>
<ol type="1">
<li>Better asymptotic performance does not imply better real world
performance</li>
<li>Sleep sort:
<ul>
<li>For each interger x in an array, sleep for x seconds and print
x</li>
<li>Runtime <span class="math inline">\(N+max(x)\)</span></li>
</ul></li>
<li>Counting sort:
<ul>
<li>Count number of occurrences of each item</li>
<li>Iterate through list, using counting array to decide where to put
everything</li>
<li>Runtime: <span class="math inline">\(\Theta (N+R)\)</span>, where
<span class="math inline">\(R\)</span> is the size of the counting
array, memory usage: <span class="math inline">\(\Theta
(N+R)\)</span></li>
</ul></li>
<li>LSD Radix sort
<ul>
<li>LSD(least significant digit, the rightmost one)</li>
<li>Sort each digit independently from rightmost digit towards left</li>
<li>When keys are of different lengths, you can treat empty spaces as
less than all other characters(simply you can treat them as 0)</li>
<li>Runtime <span class="math inline">\(\Theta (WN+WR)\)</span>, where
<span class="math inline">\(W\)</span> is the width of the longest
key</li>
<li>For highly dissimilar strings: meerge sort wins over lsd sorts,
while for highly similar strings, the situation is vice versa<br>
</li>
</ul></li>
<li>MSD Radix sort
<ul>
<li>MSD(most significant digit, the leftmost one)</li>
<li>Key idea: sort each subproblem separately</li>
<li>Runtime: best case <span class="math inline">\(\Theta
(N+R)\)</span>, worst case <span class="math inline">\(\Theta
(WN+WR)\)</span></li>
</ul></li>
</ol>
<h1 id="lecture-35-20180420">Lecture 35 2018/04/20</h1>
<ol type="1">
<li>Trie: a digit-by-digit set representation
<ul>
<li>Trie short for retrieval tree</li>
<li>Pronounced same as tree</li>
<li>Runtime: given with <span class="math inline">\(N\)</span> keys and
a key with <span class="math inline">\(L\)</span> digits, then
<ul>
<li>Worst case insertion runtime: <span class="math inline">\(\Theta
(L)\)</span>, (<span class="math inline">\(L+1\)</span>)</li>
<li>Worst case search runtime: <span class="math inline">\(\Theta
(L)\)</span>, (<span class="math inline">\(L\)</span>)</li>
<li>Best case search runtime: <span class="math inline">\(\Theta
(L)\)</span>, (search miss for the first digit)</li>
</ul></li>
<li>Runtime for Hash table search: <span class="math inline">\(\Theta
(NL)\)</span> for worst case, <span class="math inline">\(\Theta
(L)\)</span> typical case, <span class="math inline">\(\Theta
(L)\)</span> best case</li>
<li>Comparisons in trie are done digit-by-digit, allowing us to skip
some characters</li>
<li>Usage: asymptotic speed improvement is nice, but main appeal of
tries is their ability to support rapid prefix matching and approximate
matching:
<ul>
<li>Finding all keys that match a given prefix</li>
<li>Finding longest prefix of keys(prefix: a substring starting from
root and ending with a possible ending point in the trie)</li>
</ul></li>
</ul></li>
<li>Trie Implementation
<ul>
<li>Naive way <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TrieSet</span> </span>&#123;</span><br><span class="line">    # Support characters up through 128</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> R = <span class="number">128</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        <span class="comment">// If exists is true, this means it&#x27;s an ending node.</span></span><br><span class="line">        <span class="keyword">boolean</span> exists;</span><br><span class="line">        Node[] links;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            links = <span class="keyword">new</span> Node[R];</span><br><span class="line">            exists = <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Node root = <span class="keyword">new</span> Node();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(String key)</span> </span>&#123;</span><br><span class="line">        put(root, key, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Node <span class="title">put</span><span class="params">(Node x, String key, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x == <span class="keyword">null</span>) &#123;</span><br><span class="line">            x = <span class="keyword">new</span> Node();</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">if</span> (d == key.length()) &#123;</span><br><span class="line">            x.exists = <span class="keyword">true</span>;</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span> c = key.charAt(d);</span><br><span class="line">        x.links[c] = put(x.links[c], key d + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li>Improvement of Trie
<ul>
<li>Track children in a better way than with an array of length R</li>
<li>Ternary Search Tries</li>
<li>Patricia/Radix Tries</li>
<li>DAWG</li>
<li>Suffix/Prefix Array</li>
</ul></li>
</ol>
<h1 id="lecture-36-20180423">Lecture 36 2018/04/23</h1>
<ol type="1">
<li>Compression
<ul>
<li>In a lossless algorithm we require that no information is lost</li>
<li>Text files often compressible by 70% or more</li>
</ul></li>
<li>Prefix Free Codes
<ul>
<li>By default, English text is usually represented by sequences of
characters, each 8 bits long</li>
<li>We can use fewer than 8 bits for each letter</li>
<li>For our normal situations, the binary code for one character can be
prefirx for another character, so operators need to use a pause symbol
between binary codes to avoid ambigunity</li>
<li>We can remove ambigunity by useing prefix free codes, where no code
is the prefix of another, so there is no pause needed</li>
<li>Shannon-Fano code: a prefix-free based compression method</li>
<li>Huffman code: bottom up approach using relative frequency as weight
of an item</li>
</ul></li>
</ol>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Yanxuanshaozhu
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://yanxuanshaozhu.github.io/2021/03/21/CS61B%20Notes/" title="CS61B Notes">https://yanxuanshaozhu.github.io/2021/03/21/CS61B Notes/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/CS61B/" rel="tag"># CS61B</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/03/20/A%20Fictitious%20Response%20to%20Rejection%20Letter/" rel="prev" title="A Fictitious Response to Rejection Letter">
      <i class="fa fa-chevron-left"></i> A Fictitious Response to Rejection Letter
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/04/03/Build%20a%20Modern%20Computer%20from%20First%20Principles%20Part%20One%20Notes/" rel="next" title="Build a Modern Computer from First Principles Part One Notes">
      Build a Modern Computer from First Principles Part One Notes <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-01-20180117"><span class="nav-number">1.</span> <span class="nav-text">Lecture 01 2018&#x2F;01&#x2F;17</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lab-01"><span class="nav-number">2.</span> <span class="nav-text">Lab 01</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#hw-00"><span class="nav-number">3.</span> <span class="nav-text">HW 00</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-02-20180119"><span class="nav-number">4.</span> <span class="nav-text">Lecture 02 2018&#x2F;01&#x2F;19</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-03-20180122"><span class="nav-number">5.</span> <span class="nav-text">Lecture 03 2018&#x2F;01&#x2F;22</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-04-20180124"><span class="nav-number">6.</span> <span class="nav-text">Lecture 04 2018&#x2F;01&#x2F;24</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-05-20180126"><span class="nav-number">7.</span> <span class="nav-text">Lecture 05 2018&#x2F;01&#x2F;26</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-06-20180129"><span class="nav-number">8.</span> <span class="nav-text">Lecture 06 2018&#x2F;01&#x2F;29</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lab-03"><span class="nav-number">9.</span> <span class="nav-text">Lab 03</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#project-01a"><span class="nav-number">10.</span> <span class="nav-text">Project 01A</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-07-20180131"><span class="nav-number">11.</span> <span class="nav-text">Lecture 07 2018&#x2F;01&#x2F;31</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-08-20180202"><span class="nav-number">12.</span> <span class="nav-text">Lecture 08 2018&#x2F;02&#x2F;02</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-09-20180205"><span class="nav-number">13.</span> <span class="nav-text">Lecture 09 2018&#x2F;02&#x2F;05</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-10-20180207"><span class="nav-number">14.</span> <span class="nav-text">Lecture 10 2018&#x2F;02&#x2F;07</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-11-20180209"><span class="nav-number">15.</span> <span class="nav-text">Lecture 11 2018&#x2F;02&#x2F;09</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-12-20180214"><span class="nav-number">16.</span> <span class="nav-text">Lecture 12 2018&#x2F;02&#x2F;14</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-13-20180216"><span class="nav-number">17.</span> <span class="nav-text">Lecture 13 2018&#x2F;02&#x2F;16</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-14-20180221"><span class="nav-number">18.</span> <span class="nav-text">Lecture 14 2018&#x2F;02&#x2F;21</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-15-20180223"><span class="nav-number">19.</span> <span class="nav-text">Lecture 15 2018&#x2F;02&#x2F;23</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-16-20180226"><span class="nav-number">20.</span> <span class="nav-text">Lecture 16 2018&#x2F;02&#x2F;26</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-17-20180228"><span class="nav-number">21.</span> <span class="nav-text">Lecture 17 2018&#x2F;02&#x2F;28</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-18-20180301"><span class="nav-number">22.</span> <span class="nav-text">Lecture 18 2018&#x2F;03&#x2F;01</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-19-20180305"><span class="nav-number">23.</span> <span class="nav-text">Lecture 19 2018&#x2F;03&#x2F;05</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-20-20180317"><span class="nav-number">24.</span> <span class="nav-text">Lecture 20 2018&#x2F;03&#x2F;17</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-21-20180309"><span class="nav-number">25.</span> <span class="nav-text">Lecture 21 2018&#x2F;03&#x2F;09</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-22-20180312"><span class="nav-number">26.</span> <span class="nav-text">Lecture 22 2018&#x2F;03&#x2F;12</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-23-20180314"><span class="nav-number">27.</span> <span class="nav-text">Lecture 23 2018&#x2F;03&#x2F;14</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-24-20180316"><span class="nav-number">28.</span> <span class="nav-text">Lecture 24 2018&#x2F;03&#x2F;16</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-25-20180321"><span class="nav-number">29.</span> <span class="nav-text">Lecture 25 2018&#x2F;03&#x2F;21</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-26-20180323"><span class="nav-number">30.</span> <span class="nav-text">Lecture 26 2018&#x2F;03&#x2F;23</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-27-20180402"><span class="nav-number">31.</span> <span class="nav-text">Lecture 27 2018&#x2F;04&#x2F;02</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-28-20180404"><span class="nav-number">32.</span> <span class="nav-text">Lecture 28 2018&#x2F;04&#x2F;04</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-29-20180406"><span class="nav-number">33.</span> <span class="nav-text">Lecture 29 2018&#x2F;04&#x2F;06</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-30-20180409"><span class="nav-number">34.</span> <span class="nav-text">Lecture 30 2018&#x2F;04&#x2F;09</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecutre-31-20180411"><span class="nav-number">35.</span> <span class="nav-text">Lecutre 31 2018&#x2F;04&#x2F;11</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-32-20180413"><span class="nav-number">36.</span> <span class="nav-text">Lecture 32 2018&#x2F;04&#x2F;13</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-33-20180416"><span class="nav-number">37.</span> <span class="nav-text">Lecture 33 2018&#x2F;04&#x2F;16</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-34-20180418"><span class="nav-number">38.</span> <span class="nav-text">Lecture 34 2018&#x2F;04&#x2F;18</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-35-20180420"><span class="nav-number">39.</span> <span class="nav-text">Lecture 35 2018&#x2F;04&#x2F;20</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lecture-36-20180423"><span class="nav-number">40.</span> <span class="nav-text">Lecture 36 2018&#x2F;04&#x2F;23</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yanxuanshaozhu"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Yanxuanshaozhu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">57</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">54</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yanxuanshaozhu" title="GitHub  https:&#x2F;&#x2F;github.com&#x2F;yanxuanshaozhu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:mrlixm.cn@gmail.com" title="E-Mail  mailto:mrlixm.cn@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yanxuanshaozhu</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">1.8m</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">26:35</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

</body>
</html>
